<!DOCTYPE html>
<!-- saved from url=(0038)http://127.0.0.1:5400/FinalProduct.Rmd -->
<html class="FB_FW_ext GCPlugin2"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <script type="application/shiny-singletons"></script>
  <script type="application/html-dependencies">jquery[3.6.0];shiny-css[1.7.1];shiny-javascript[1.7.1]</script>
<script src="./Midterm Project_files/jquery.min.js.download"></script>
<link href="./Midterm Project_files/shiny.min.css" rel="stylesheet">
<script src="./Midterm Project_files/shiny.min.js.download"></script>  <script src="./Midterm Project_files/rmd_loader.js.download"></script>
  <link href="./Midterm Project_files/rmd_loader.css" rel="stylesheet">
<script src="./Midterm Project_files/header-attrs.js.download"></script><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" type="text/css" href="./Midterm Project_files/bootstrap.min.css"><script src="./Midterm Project_files/bootstrap.min.js.download"></script><script src="./Midterm Project_files/html5shiv.min.js.download"></script><script src="./Midterm Project_files/respond.min.js.download"></script><style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style><script src="./Midterm Project_files/jquery-ui.min.js.download"></script><link rel="stylesheet" type="text/css" href="./Midterm Project_files/jquery.tocify.css"><script src="./Midterm Project_files/jquery.tocify.js.download"></script><script src="./Midterm Project_files/tabsets.js.download"></script><script src="./Midterm Project_files/codefolding.js.download"></script><link rel="stylesheet" type="text/css" href="./Midterm Project_files/default.css"><script src="./Midterm Project_files/highlight.js.download"></script><script src="./Midterm Project_files/kePrint.js.download"></script><link rel="stylesheet" type="text/css" href="./Midterm Project_files/lightable.css"><link rel="stylesheet" type="text/css" href="./Midterm Project_files/rmd_perf.css"><script src="./Midterm Project_files/rmd_perf.js.download"></script><meta name="rstudio_origin" content="127.0.0.1:12218"><script src="./Midterm Project_files/rsiframe.js.download"></script>


<meta name="generator" content="pandoc">
<meta http-equiv="X-UA-Compatible" content="IE=EDGE">


<meta name="author" content="Yihong Hu, Sabir Nazarov, Will Friedrichs">

<meta name="date" content="2021-10-20">

<title>Midterm Project</title>


<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type="text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#section-TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#section-TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>



<script type="text/javascript" src="./Midterm Project_files/MathJax.js.download"></script><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover, .MJXp-munder {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > *, .MJXp-munder > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
<body><div id="MathJax_Message" style="display: none;"></div>
  <div>
    <div data-display-if="!output.__reactivedoc__" data-ns-prefix="" style="display: none;">
      <div id="rmd_loader_wrapper">
        <div id="rmd_loader" style="">
          <p>Please wait...</p>
          <img src="./Midterm Project_files/rmd_loader.gif">
        </div>
      </div>
    </div>
    <div id="__reactivedoc__" class="shiny-html-output shiny-bound-output" aria-live="polite">








<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="section-TOC" class="tocify">
<ul id="tocify-header1" class="tocify-header list-group"><li class="tocify-item list-group-item" data-unique="Introduction" style="cursor: pointer;">Introduction</li><ul class="tocify-subheader list-group" data-tag="2"><li class="tocify-item list-group-item" data-unique="Project_Data" style="cursor: pointer;">Project Data</li><ul class="tocify-subheader list-group" data-tag="3"><li class="tocify-item list-group-item" data-unique="Parks,_Landmarks,_and_Trailheads">Parks, Landmarks, and Trailheads</li><li class="tocify-item list-group-item" data-unique="Playgrounds,_Schools,_Flood_Plains">Playgrounds, Schools, Flood Plains</li></ul></ul></ul><ul id="tocify-header2" class="tocify-header list-group"><li class="tocify-item list-group-item" data-unique="The_Model">The Model</li><ul class="tocify-subheader list-group" data-tag="2"><li class="tocify-item list-group-item" data-unique="Preparation_for_machine_learning_and_regression_model">Preparation for machine learning and regression model</li><li class="tocify-item list-group-item" data-unique="Correllation__Test_Signifcance">Correllation &amp; Test Signifcance</li><li class="tocify-item list-group-item" data-unique="K-folds__Multivariate">K-folds &amp; Multivariate</li><li class="tocify-item list-group-item" data-unique="MAE_Histogram">MAE Histogram</li><li class="tocify-item list-group-item" data-unique="Predictions">Predictions</li><li class="tocify-item list-group-item" data-unique="Plot_Predictions" style="cursor: pointer;">Plot Predictions</li><li class="tocify-item list-group-item" data-unique="Lag_Price_Errors" style="cursor: pointer;">Lag Price Errors</li><li class="tocify-item list-group-item" data-unique="Moran’s_I" style="cursor: pointer;">Moran’s I</li><li class="tocify-item list-group-item" data-unique="Etc" style="cursor: pointer;">Etc.</li></ul></ul></div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div id="section-header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="http://127.0.0.1:5400/FinalProduct.Rmd#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="http://127.0.0.1:5400/FinalProduct.Rmd#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Midterm Project</h1>
<h4 class="author">Yihong Hu, Sabir Nazarov, Will Friedrichs</h4>
<h4 class="date">10/20/2021</h4>

</div>


<div id="section-introduction" class="section level1">
<div name="Introduction" data-unique="Introduction"></div><h1>Introduction</h1>
<p>Zillow’s housing market predictions are an integral part of its business model, helping the company achieve a greater understanding of how the market will value properties. Our team is confident that through our geospatial machine learning-based model that considers not only attributes of homes, but local factors as well, we can improve Zillow’s house price predictions for the Boulder County study area and provide a template which can be adapted to other localities.</p>
<p>This project outlines and analyzes the process by which we created our model in four broad stages: data gathering, feature creation, multivariate regression modeling, and prediction generation. We present these stages sequentially, though the ordering does not necessarily reflect the order in which parts of the model were constructed.</p>
<p>Along with written analysis, plots, and tables, the R code that produces the model is presented in the document in chunks. The chunk below, for example, loads 17 libraries for use later, helps set up the generation of the r markdown file, gives access to online resources helpful to our analysis, and sets up a color scheme to be used for data visualization.</p>
<div class="row"><div class="col-md-12"><button type="button" class="btn btn-default btn-xs btn-secondary btn-sm code-folding-btn pull-right float-right" data-toggle="collapse" data-target="#rcode-643E0F361" aria-expanded="false" aria-controls="rcode-643E0F361"><span>Code</span></button></div></div><div class="collapse r-code-collapse" id="rcode-643E0F361"><pre class="r"><code class="hljs"><span class="hljs-keyword">library</span>(tidyverse)
<span class="hljs-keyword">library</span>(tidycensus)
<span class="hljs-keyword">library</span>(sf)
<span class="hljs-keyword">library</span>(kableExtra)
<span class="hljs-keyword">library</span>(dplyr)
<span class="hljs-keyword">library</span>(ggcorrplot)
<span class="hljs-keyword">library</span>(caret)
<span class="hljs-keyword">library</span>(spdep)
<span class="hljs-keyword">library</span>(ckanr)
<span class="hljs-keyword">library</span>(FNN)
<span class="hljs-keyword">library</span>(grid)
<span class="hljs-keyword">library</span>(gridExtra)
<span class="hljs-keyword">library</span>(jtools)     
<span class="hljs-keyword">library</span>(ggstance)
<span class="hljs-keyword">library</span>(rpart)
<span class="hljs-keyword">library</span>(ggplot2)
<span class="hljs-keyword">library</span>(stargazer)

<span class="hljs-comment"># set up knitr</span>
knitr::opts_chunk$set(
    message = <span class="hljs-literal">FALSE</span>,
    <span class="hljs-keyword">warning</span> = <span class="hljs-literal">FALSE</span>,
    include = <span class="hljs-literal">TRUE</span>,
    cache = <span class="hljs-literal">TRUE</span>,
    echo=<span class="hljs-literal">TRUE</span>
)

<span class="hljs-comment"># Set root directory</span>
root.dir = <span class="hljs-string">"https://raw.githubusercontent.com/urbanSpatial/Public-Policy-Analytics-Landing/master/DATA/"</span>

<span class="hljs-comment"># Locate the source of functions from raw.githubusercontent.com</span>
<span class="hljs-keyword">source</span>(<span class="hljs-string">"https://raw.githubusercontent.com/urbanSpatial/Public-Policy-Analytics-Landing/master/functions.r"</span>)

<span class="hljs-comment"># Save q5 and qbr functions for later use</span>
q5 &lt;- <span class="hljs-keyword">function</span>(variable) {as.factor(ntile(variable, <span class="hljs-number">5</span>))}

qbr &lt;- <span class="hljs-keyword">function</span>(df, variable, rnd) {
  <span class="hljs-keyword">if</span> (missing(rnd)) {
    as.character(quantile(round(df[[variable]],<span class="hljs-number">0</span>),
                          c(<span class="hljs-number">.01</span>,<span class="hljs-number">.2</span>,<span class="hljs-number">.4</span>,<span class="hljs-number">.6</span>,<span class="hljs-number">.8</span>), na.rm=<span class="hljs-literal">T</span>))
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (rnd == <span class="hljs-literal">FALSE</span> | rnd == <span class="hljs-literal">F</span>) {
    as.character(formatC(quantile(df[[variable]]), digits = <span class="hljs-number">3</span>),
                 c(<span class="hljs-number">.01</span>,<span class="hljs-number">.2</span>,<span class="hljs-number">.4</span>,<span class="hljs-number">.6</span>,<span class="hljs-number">.8</span>), na.rm=<span class="hljs-literal">T</span>)
  }
}

<span class="hljs-comment"># Set a color palette for later use</span>
palette5 &lt;- c(<span class="hljs-string">"#25CB10"</span>, <span class="hljs-string">"#5AB60C"</span>, <span class="hljs-string">"#8FA108"</span>,   <span class="hljs-string">"#C48C04"</span>, <span class="hljs-string">"#FA7800"</span>)</code></pre></div>
<p>The data gathering process begins by accessing tract-level geography, population, and demographic data from the US Government Census API. The data uses American Community Survey results for 2019. Variables of interest are isolated and wrangled to create features required for the analysis.</p>
<div class="row"><div class="col-md-12"><button type="button" class="btn btn-default btn-xs btn-secondary btn-sm code-folding-btn pull-right float-right" data-toggle="collapse" data-target="#rcode-643E0F362" aria-expanded="false" aria-controls="rcode-643E0F362"><span>Code</span></button></div></div><div class="collapse r-code-collapse" id="rcode-643E0F362"><pre class="r"><code class="hljs">varlist_2019 &lt;- load_variables(<span class="hljs-number">2019</span>, <span class="hljs-string">"acs5"</span>, cache = <span class="hljs-literal">TRUE</span>)

census_api_key(<span class="hljs-string">"94efffd19b56ad527e379faea1653ee74dc3de4a"</span>,overwrite = <span class="hljs-literal">TRUE</span>)

tracts19 &lt;- get_acs(geography = <span class="hljs-string">"tract"</span>,                         
                    variables = c(<span class="hljs-string">"B01001_001"</span>,<span class="hljs-string">"B23025_004"</span>,<span class="hljs-string">"B06011_001"</span>,
                                  <span class="hljs-string">"B06012_002"</span>,<span class="hljs-string">"B02001_002"</span>,<span class="hljs-string">"B25002_003"</span>,
                                  <span class="hljs-string">"B25013_006"</span>,<span class="hljs-string">"B08013_001"</span>,<span class="hljs-string">"B15012_009"</span>), 
                    year=<span class="hljs-number">2019</span>, 
                    state=<span class="hljs-number">08</span>, 
                    county=<span class="hljs-number">013</span>,
                    output = <span class="hljs-string">"wide"</span>,
                    geometry=<span class="hljs-literal">TRUE</span>) %&gt;% 
            st_transform(<span class="hljs-string">'ESRI:102254'</span>) %&gt;%
            select( c(<span class="hljs-string">"GEOID"</span>,<span class="hljs-string">"B01001_001E"</span>,<span class="hljs-string">"B23025_004E"</span>,<span class="hljs-string">"B06011_001E"</span>,
                      <span class="hljs-string">"B06012_002E"</span>,<span class="hljs-string">"B02001_002E"</span>,<span class="hljs-string">"B25002_003E"</span>,
                    <span class="hljs-string">"B25013_006E"</span>,<span class="hljs-string">"B08013_001E"</span>,<span class="hljs-string">"B15012_009E"</span>,<span class="hljs-string">"geometry"</span>) ) %&gt;%
            rename(tot_pop = <span class="hljs-string">"B01001_001E"</span>,
                   empl_pop = <span class="hljs-string">"B23025_004E"</span>,
                   med_inc = <span class="hljs-string">"B06011_001E"</span>,
                   pvty_pop = <span class="hljs-string">"B06012_002E"</span>,
                   white_pop = <span class="hljs-string">"B02001_002E"</span>,
                   vac_occ = <span class="hljs-string">"B25002_003E"</span>,
                   own_occ_bach = <span class="hljs-string">"B25013_006E"</span>,
                   tt_work = <span class="hljs-string">"B08013_001E"</span>,
                   sci_bach = <span class="hljs-string">"B15012_009E"</span>) %&gt;%
            mutate(area = as.numeric(st_area(geometry)/<span class="hljs-number">1000000</span>))%&gt;%
            mutate(pop_den = tot_pop/area)</code></pre></div>
<pre><code class="hljs">## 
  |                                                                            
  |                                                                      |   0%
  |                                                                            
  |=                                                                     |   2%
  |                                                                            
  |==                                                                    |   3%
  |                                                                            
  |====                                                                  |   5%
  |                                                                            
  |====                                                                  |   6%
  |                                                                            
  |=======                                                               |  10%
  |                                                                            
  |=======                                                               |  11%
  |                                                                            
  |=========                                                             |  12%
  |                                                                            
  |=========                                                             |  13%
  |                                                                            
  |==========                                                            |  15%
  |                                                                            
  |===========                                                           |  16%
  |                                                                            
  |============                                                          |  17%
  |                                                                            
  |==============                                                        |  20%
  |                                                                            
  |================                                                      |  23%
  |                                                                            
  |=================                                                     |  24%
  |                                                                            
  |==================                                                    |  26%
  |                                                                            
  |====================                                                  |  28%
  |                                                                            
  |=====================                                                 |  30%
  |                                                                            
  |======================                                                |  32%
  |                                                                            
  |=======================                                               |  33%
  |                                                                            
  |==========================                                            |  37%
  |                                                                            
  |============================                                          |  39%
  |                                                                            
  |=============================                                         |  41%
  |                                                                            
  |===============================                                       |  44%
  |                                                                            
  |================================                                      |  46%
  |                                                                            
  |=================================                                     |  48%
  |                                                                            
  |===================================                                   |  50%
  |                                                                            
  |====================================                                  |  52%
  |                                                                            
  |=====================================                                 |  53%
  |                                                                            
  |======================================                                |  54%
  |                                                                            
  |========================================                              |  57%
  |                                                                            
  |=========================================                             |  59%
  |                                                                            
  |============================================                          |  63%
  |                                                                            
  |==============================================                        |  66%
  |                                                                            
  |===============================================                       |  68%
  |                                                                            
  |=================================================                     |  70%
  |                                                                            
  |===================================================                   |  73%
  |                                                                            
  |====================================================                  |  74%
  |                                                                            
  |======================================================                |  77%
  |                                                                            
  |=======================================================               |  79%
  |                                                                            
  |==========================================================            |  83%
  |                                                                            
  |============================================================          |  86%
  |                                                                            
  |=============================================================         |  87%
  |                                                                            
  |===============================================================       |  90%
  |                                                                            
  |=================================================================     |  92%
  |                                                                            
  |====================================================================  |  96%
  |                                                                            
  |===================================================================== |  99%
  |                                                                            
  |======================================================================| 100%</code></pre>
<div id="section-project-data" class="section level2">
<div name="Project_Data" data-unique="Project_Data"></div><h2>Project Data</h2>
<p>The primary training dataset provides information on a variety of features associated with houses, along with house prices. Some of the houses have prices listed, while others do not. After other variables are added to the dataset for each house, OLS regression uses houses with price information to create our model, which is a formula that can produce price from those oteher variables.</p>
<p>Given the original primary dataset, we wrangled and joined ACS tract-based demographic data that we theorized could predict housing prices. Each house is ascribed the demographic variables associated with its tract.</p>
<p>Boulder County and the boundaries of the municipalities within are established from open-source geometry files. Table 1, below, summarizes key indicators by municipality. Each variable represents the mean values ascribed to homes in the municipality. For example, total population represents not the population of the municipality, but the mean tract population ascribed to each house. The table reveals that the price is strongly related to municipality.</p>
<pre><code class="hljs">## Reading layer `studentData' from data source 
##   `C:\Users\sabir\Documents\GitHub\Midterm\studentData.geojson' 
##   using driver `GeoJSON'
## Simple feature collection with 11364 features and 48 fields
## Geometry type: POINT
## Dimension:     XY
## Bounding box:  xmin: 907857.2 ymin: 535711.1 xmax: 952487.4 ymax: 574366.8
## Projected CRS: NAD_1983_HARN_StatePlane_Colorado_Central_FIPS_0502</code></pre>
<pre><code class="hljs">## Simple feature collection with 11364 features and 50 fields
## Geometry type: POINT
## Dimension:     XY
## Bounding box:  xmin: 907857.2 ymin: 535711.1 xmax: 952487.4 ymax: 574366.8
## Projected CRS: NAD_1983_HARN_StatePlane_Colorado_Central_FIPS_0502
## First 10 features:
##     price            saleDate year year_quarter
## 1  540000 2020-05-19 20:00:00 2020       2020-2
## 2  420000 2019-01-08 19:00:00 2019       2019-1
## 3  475000 2020-09-21 20:00:00 2020       2020-3
## 4  455000 2019-07-08 20:00:00 2019       2019-3
## 5  518000 2019-06-04 20:00:00 2019       2019-2
## 6  851500 2020-05-20 20:00:00 2020       2020-2
## 7  838000 2021-03-25 20:00:00 2021       2021-1
## 8  537300 2019-06-13 20:00:00 2019       2019-2
## 9  731500 2019-05-09 20:00:00 2019       2019-2
## 10 700000 2019-08-05 20:00:00 2019       2019-3
##                                         address bld_num section_num designCode
## 1    408 SUGARLOAF  RD  UNINCORPORATED Colorado       1           1       0010
## 2           1015 TIFFANY  PL  LONGMONT Colorado       1           1       0010
## 3        660 GOOSEBERRY  CT  LAFAYETTE Colorado       1           1       0040
## 4         110 STARLINE  AVE  LAFAYETTE Colorado       1           1       0050
## 5  873 COLD SPRING  RD  UNINCORPORATED Colorado       1           1       0020
## 6         5830 FOUR LEAF  DR  LONGMONT Colorado       1           1       0020
## 7       2888 GRAND LAKE  DR  LAFAYETTE Colorado       1           1       0020
## 8                  766 CABOT  DR  ERIE Colorado       1           1       0020
## 9            4490 DARLEY  AVE  BOULDER Colorado       1           1       0010
## 10          2120 EDGEWOOD  DR  BOULDER Colorado       1           1       0010
##     designCodeDscr qualityCode qualityCodeDscr bldgClass
## 1  1 Story - Ranch          30        AVERAGE       1212
## 2  1 Story - Ranch          30        AVERAGE       1212
## 3         Bi-level          30        AVERAGE       1212
## 4      Split-level          31      AVERAGE +       1212
## 5        2-3 Story          42        GOOD ++       1212
## 6        2-3 Story          42        GOOD ++       1212
## 7        2-3 Story          40           GOOD       1212
## 8        2-3 Story          40           GOOD       1212
## 9  1 Story - Ranch          30        AVERAGE       1212
## 10 1 Story - Ranch          31      AVERAGE +       1212
##                  bldgClassDscr ConstCode ConstCodeDscr builtYear CompCode
## 1  SINGLE FAM RES IMPROVEMENTS       310         Frame      1972        1
## 2  SINGLE FAM RES IMPROVEMENTS       310         Frame      1974        1
## 3  SINGLE FAM RES IMPROVEMENTS       310         Frame      1984        1
## 4  SINGLE FAM RES IMPROVEMENTS       310         Frame      1982        1
## 5  SINGLE FAM RES IMPROVEMENTS       310         Frame      1996        1
## 6  SINGLE FAM RES IMPROVEMENTS       310         Frame      2019        1
## 7  SINGLE FAM RES IMPROVEMENTS       310         Frame      2015        1
## 8  SINGLE FAM RES IMPROVEMENTS       310         Frame      2018        1
## 9  SINGLE FAM RES IMPROVEMENTS       320       Masonry      1961        1
## 10 SINGLE FAM RES IMPROVEMENTS       320       Masonry      1956        1
##    EffectiveYear bsmtSF bsmtType                             bsmtTypeDscr
## 1           1972    744      BWF          WALK-OUT BASEMENT FINISHED AREA
## 2           1996   1388      BSF      SUBTERRANEAN BASEMENT FINISHED AREA
## 3           1989    484      LGF LOWER LVL GARDEN FINISHED (BI-SPLIT LVL)
## 4           1993    572      LGF LOWER LVL GARDEN FINISHED (BI-SPLIT LVL)
## 5           1996      0        0                                        0
## 6           2019   1157      BSF      SUBTERRANEAN BASEMENT FINISHED AREA
## 7           2015    994      BSF      SUBTERRANEAN BASEMENT FINISHED AREA
## 8           2018   1152      BSU    SUBTERRANEAN BASEMENT UNFINISHED AREA
## 9           1980    923      BSF      SUBTERRANEAN BASEMENT FINISHED AREA
## 10          2000      0        0                                        0
##    carStorageSF carStorageType   carStorageTypeDscr nbrBedRoom nbrRoomsNobath
## 1           448            GRA ATTACHED GARAGE AREA          3              6
## 2           484            GRA ATTACHED GARAGE AREA          3              8
## 3           308            GRA ATTACHED GARAGE AREA          3              5
## 4           520            GRA ATTACHED GARAGE AREA          4              8
## 5             0              0                    0          3              8
## 6           638            GRA ATTACHED GARAGE AREA          5             11
## 7           440            GRD      DETACHED GARAGE          3              7
## 8           480            GRA ATTACHED GARAGE AREA          5              9
## 9           297            GRA ATTACHED GARAGE AREA          3              9
## 10          308            GRD      DETACHED GARAGE          2              6
##    mainfloorSF nbrThreeQtrBaths nbrFullBaths nbrHalfBaths TotalFinishedSF  Ac
## 1          864                0            2            0             864  NA
## 2         1486                2            1            0            1486 210
## 3          931                1            1            0             931 210
## 4         1164                2            1            0            1164 210
## 5         1081                0            2            1            2162  NA
## 6         1129                0            3            1            2647 210
## 7         1001                0            2            1            1920 210
## 8         1168                0            3            1            2698 210
## 9         1026                0            2            0            1026  NA
## 10        1209                1            0            1            1209  NA
##         AcDscr Heating HeatingDscr ExtWallPrim  ExtWallDscrPrim ExtWallSec
## 1                  830   Hot Water          10 Frame Wood/Shake         NA
## 2  Whole House     810  Forced Air          10 Frame Wood/Shake        530
## 3  Whole House     810  Forced Air          10 Frame Wood/Shake         NA
## 4  Whole House     810  Forced Air          10 Frame Wood/Shake         NA
## 5                  810  Forced Air          10 Frame Wood/Shake         NA
## 6  Whole House     810  Forced Air          10 Frame Wood/Shake        600
## 7  Whole House     810  Forced Air         140     Cement Board         NA
## 8  Whole House     810  Forced Air         140     Cement Board         NA
## 9                  810  Forced Air          40     Brick Veneer         NA
## 10                 810  Forced Air          40     Brick Veneer         NA
##    ExtWallDscrSec IntWall    IntWallDscr Roof_Cover Roof_CoverDscr Stories
## 1                    1160 Hardwood Panel         NA                     NA
## 2    Brick Veneer    1130        Drywall       1210        Asphalt      NA
## 3                    1130        Drywall       1210        Asphalt      NA
## 4                    1130        Drywall       1210        Asphalt      NA
## 5                    1130        Drywall         NA                     NA
## 6      Faux Stone    1130        Drywall       1210        Asphalt      NA
## 7                    1130        Drywall       1210        Asphalt      NA
## 8                    1130        Drywall       1210        Asphalt      NA
## 9                    1130        Drywall         NA                     NA
## 10                   1130        Drywall         NA                     NA
##    UnitCount status_cd MUSA_ID toPredict                  geometry Age
## 1         NA        A    11075         0 POINT (927354.2 546034.2)  49
## 2         NA        A     4268         0 POINT (947788.1 567661.7)  47
## 3         NA        A     3727         0   POINT (948651.5 544654)  37
## 4         NA        A     5586         0   POINT (949297.6 545958)  39
## 5         NA        A    10871         0 POINT (915852.5 544370.5)  25
## 6         NA        A     5358         0 POINT (941912.6 562031.3)   2
## 7         NA        A    10864         0 POINT (945463.9 544986.6)   6
## 8         NA        A     7105         0 POINT (951908.2 547605.4)   3
## 9         NA        A     1988         0 POINT (936369.1 543265.8)  60
## 10        NA        A      281         0 POINT (934034.2 548426.7)  65
##    TotalBath
## 1          2
## 2          3
## 3          2
## 4          3
## 5          3
## 6          4
## 7          3
## 8          4
## 9          2
## 10         2</code></pre>
<pre><code class="hljs">## Reading layer `County_Boundary' from data source 
##   `https://opendata.arcgis.com/datasets/964b8f3b3dbe401bb28d49ac93d29dc4_0.geojson' 
##   using driver `GeoJSON'
## Simple feature collection with 1 feature and 3 fields
## Geometry type: MULTIPOLYGON
## Dimension:     XY
## Bounding box:  xmin: -105.6945 ymin: 39.91297 xmax: -105.0528 ymax: 40.26396
## Geodetic CRS:  WGS 84</code></pre>
<pre><code class="hljs">## Reading layer `Municipalities' from data source 
##   `https://opendata.arcgis.com/datasets/9597d3916aba47e887ca563d5ac15938_0.geojson' 
##   using driver `GeoJSON'
## Simple feature collection with 10 features and 10 fields
## Geometry type: MULTIPOLYGON
## Dimension:     XY
## Bounding box:  xmin: -105.525 ymin: 39.91405 xmax: -105.0528 ymax: 40.23771
## Geodetic CRS:  WGS 84</code></pre>
<img src="./Midterm Project_files/Project Data-1.png" width="672">
<table class="table" style="margin-left: auto; margin-right: auto;border-bottom: 0;">
<thead>
<tr>
<th style="text-align:left;">
Municipality
</th>
<th style="text-align:right;">
Medium.Price
</th>
<th style="text-align:right;">
Mean.Price
</th>
<th style="text-align:right;">
Population
</th>
<th style="text-align:right;">
Poplation Density per km^2
</th>
<th style="text-align:right;">
Median Income
</th>
<th style="text-align:right;">
Poverty Rate
</th>
<th style="text-align:right;">
White Poplation in %
</th>
<th style="text-align:right;">
Building Age
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Boulder
</td>
<td style="text-align:right;">
950000
</td>
<td style="text-align:right;">
1228007.0
</td>
<td style="text-align:right;">
4785.49
</td>
<td style="text-align:right;">
1774.41
</td>
<td style="text-align:right;">
43834.62
</td>
<td style="text-align:right;">
12.27
</td>
<td style="text-align:right;">
88.95
</td>
<td style="text-align:right;">
51.38
</td>
</tr>
<tr>
<td style="text-align:left;">
Louisville
</td>
<td style="text-align:right;">
680000
</td>
<td style="text-align:right;">
736988.4
</td>
<td style="text-align:right;">
4959.54
</td>
<td style="text-align:right;">
1329.45
</td>
<td style="text-align:right;">
47542.11
</td>
<td style="text-align:right;">
5.29
</td>
<td style="text-align:right;">
90.15
</td>
<td style="text-align:right;">
36.35
</td>
</tr>
<tr>
<td style="text-align:left;">
Superior
</td>
<td style="text-align:right;">
656900
</td>
<td style="text-align:right;">
705382.1
</td>
<td style="text-align:right;">
4706.15
</td>
<td style="text-align:right;">
982.34
</td>
<td style="text-align:right;">
51891.10
</td>
<td style="text-align:right;">
4.72
</td>
<td style="text-align:right;">
77.15
</td>
<td style="text-align:right;">
17.30
</td>
</tr>
<tr>
<td style="text-align:left;">
Lyons
</td>
<td style="text-align:right;">
652500
</td>
<td style="text-align:right;">
625371.9
</td>
<td style="text-align:right;">
4016.00
</td>
<td style="text-align:right;">
28.63
</td>
<td style="text-align:right;">
51709.00
</td>
<td style="text-align:right;">
4.56
</td>
<td style="text-align:right;">
94.05
</td>
<td style="text-align:right;">
43.54
</td>
</tr>
<tr>
<td style="text-align:left;">
Erie
</td>
<td style="text-align:right;">
600000
</td>
<td style="text-align:right;">
624215.4
</td>
<td style="text-align:right;">
12923.00
</td>
<td style="text-align:right;">
316.98
</td>
<td style="text-align:right;">
55578.00
</td>
<td style="text-align:right;">
5.83
</td>
<td style="text-align:right;">
92.79
</td>
<td style="text-align:right;">
8.48
</td>
</tr>
<tr>
<td style="text-align:left;">
Jamestown
</td>
<td style="text-align:right;">
570000
</td>
<td style="text-align:right;">
566608.3
</td>
<td style="text-align:right;">
5563.08
</td>
<td style="text-align:right;">
21.77
</td>
<td style="text-align:right;">
47650.33
</td>
<td style="text-align:right;">
9.47
</td>
<td style="text-align:right;">
91.31
</td>
<td style="text-align:right;">
42.00
</td>
</tr>
<tr>
<td style="text-align:left;">
Lafayette
</td>
<td style="text-align:right;">
560500
</td>
<td style="text-align:right;">
618278.9
</td>
<td style="text-align:right;">
5515.73
</td>
<td style="text-align:right;">
863.10
</td>
<td style="text-align:right;">
45651.45
</td>
<td style="text-align:right;">
6.28
</td>
<td style="text-align:right;">
89.51
</td>
<td style="text-align:right;">
28.93
</td>
</tr>
<tr>
<td style="text-align:left;">
Nederland
</td>
<td style="text-align:right;">
536250
</td>
<td style="text-align:right;">
586593.5
</td>
<td style="text-align:right;">
5735.00
</td>
<td style="text-align:right;">
16.74
</td>
<td style="text-align:right;">
44740.00
</td>
<td style="text-align:right;">
9.59
</td>
<td style="text-align:right;">
94.68
</td>
<td style="text-align:right;">
41.31
</td>
</tr>
<tr>
<td style="text-align:left;">
Longmont
</td>
<td style="text-align:right;">
455000
</td>
<td style="text-align:right;">
493376.4
</td>
<td style="text-align:right;">
6057.30
</td>
<td style="text-align:right;">
1272.47
</td>
<td style="text-align:right;">
38180.19
</td>
<td style="text-align:right;">
8.51
</td>
<td style="text-align:right;">
89.09
</td>
<td style="text-align:right;">
29.96
</td>
</tr>
<tr>
<td style="text-align:left;">
Ward
</td>
<td style="text-align:right;">
295000
</td>
<td style="text-align:right;">
291250.0
</td>
<td style="text-align:right;">
5990.00
</td>
<td style="text-align:right;">
23.59
</td>
<td style="text-align:right;">
47166.00
</td>
<td style="text-align:right;">
9.92
</td>
<td style="text-align:right;">
90.88
</td>
<td style="text-align:right;">
81.71
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; " colspan="100%">
<span style="font-style: italic;"><br></span>
</td>
</tr>
<tr>
<td style="padding: 0; " colspan="100%">
<sup></sup> Table 1
</td>
</tr>
</tfoot>
</table>
<div id="section-parks-landmarks-and-trailheads" class="section level3">
<div name="Parks,_Landmarks,_and_Trailheads" data-unique="Parks,_Landmarks,_and_Trailheads"></div><h3>Parks, Landmarks, and Trailheads</h3>
<p>Considering that Boulder region is rich in natural beauty and outdoor activities, we use the buyers logic that places a premium on proximity to these locations. We incorporate the following data into the analysis: parks, natural landmarks, and entrance to trail heads. For example, we create a variable that captures the number of parks within a 500 meter radius, trail heads within 1000 meter radius.</p>
<div class="row"><div class="col-md-12"><button type="button" class="btn btn-default btn-xs btn-secondary btn-sm code-folding-btn pull-right float-right" data-toggle="collapse" data-target="#rcode-643E0F363" aria-expanded="false" aria-controls="rcode-643E0F363"><span>Code</span></button></div></div><div class="collapse r-code-collapse" id="rcode-643E0F363"><pre class="r"><code class="hljs"><span class="hljs-comment"># Load Park data</span>
GreenSpacePolygon &lt;- st_read(<span class="hljs-string">"County_Open_Space.geojson"</span>) %&gt;%
                     st_transform(<span class="hljs-string">'ESRI:102254'</span>)</code></pre></div>
<pre><code class="hljs">## Reading layer `County_Open_Space' from data source 
##   `C:\Users\sabir\Documents\GitHub\Midterm\County_Open_Space.geojson' 
##   using driver `GeoJSON'
## Simple feature collection with 2063 features and 24 fields
## Geometry type: MULTIPOLYGON
## Dimension:     XY
## Bounding box:  xmin: -105.6661 ymin: 39.89269 xmax: -105.017 ymax: 40.26848
## Geodetic CRS:  WGS 84</code></pre>
<div class="row"><div class="col-md-12"><button type="button" class="btn btn-default btn-xs btn-secondary btn-sm code-folding-btn pull-right float-right" data-toggle="collapse" data-target="#rcode-643E0F364" aria-expanded="false" aria-controls="rcode-643E0F364"><span>Code</span></button></div></div><div class="collapse r-code-collapse" id="rcode-643E0F364"><pre class="r"><code class="hljs">Park &lt;- GreenSpacePolygon[!is.na(GreenSpacePolygon$PARK_GROUP),] %&gt;%
        st_centroid()
  
st_c &lt;- st_coordinates


studentData &lt;-
  studentData %&gt;% 
  mutate(park_nn1 = nn_function(st_c(studentData), st_c(Park), <span class="hljs-number">1</span>),
         park_nn2 = nn_function(st_c(studentData), st_c(Park), <span class="hljs-number">2</span>),
         park_nn3 = nn_function(st_c(studentData), st_c(Park), <span class="hljs-number">3</span>),
         park_dist = st_distance(studentData,Park))

Park_in_buffer &lt;-
  st_join(Park,st_buffer(studentData,<span class="hljs-number">500</span>),join = st_within)

PKCount &lt;-
  Park_in_buffer %&gt;%
  count(MUSA_ID)%&gt;%
  st_drop_geometry()

studentData &lt;-
  left_join(studentData, PKCount, by = <span class="hljs-string">"MUSA_ID"</span> )

studentData &lt;-
  studentData %&gt;%
  rename(PKCount500m = n)

studentData$PKCount500m[is.na(studentData$PKCount500m)] &lt;- <span class="hljs-number">0</span>

<span class="hljs-comment"># attach distance to green space data</span>
<span class="hljs-comment"># studentData %&gt;% mutate(green_dis = st_distance(studentData, GreenSpacePolygon))</span>

<span class="hljs-comment"># Load Landmarks data</span>
landmarksPolygon &lt;- st_union(st_read(<span class="hljs-string">"Natural_Landmarks.geojson"</span>)) %&gt;%
  st_transform(<span class="hljs-string">'ESRI:102254'</span>)</code></pre></div>
<pre><code class="hljs">## Reading layer `Natural_Landmarks_and_Natural_Areas_-_2013_ERE_Update' from data source `C:\Users\sabir\Documents\GitHub\Midterm\Natural_Landmarks.geojson' 
##   using driver `GeoJSON'
## Simple feature collection with 43 features and 7 fields
## Geometry type: MULTIPOLYGON
## Dimension:     XY
## Bounding box:  xmin: -105.6945 ymin: 39.91377 xmax: -105.1317 ymax: 40.26309
## Geodetic CRS:  WGS 84</code></pre>
<div class="row"><div class="col-md-12"><button type="button" class="btn btn-default btn-xs btn-secondary btn-sm code-folding-btn pull-right float-right" data-toggle="collapse" data-target="#rcode-643E0F365" aria-expanded="false" aria-controls="rcode-643E0F365"><span>Code</span></button></div></div><div class="collapse r-code-collapse" id="rcode-643E0F365"><pre class="r"><code class="hljs"><span class="hljs-comment"># attach distance to land marks data</span>
studentData &lt;- mutate(studentData, landmark_dist = st_distance(studentData, landmarksPolygon), by_element = <span class="hljs-literal">TRUE</span>)

<span class="hljs-comment"># Loading Trail Heads Locations</span>
TrailHead &lt;- 
  st_read(<span class="hljs-string">"https://opendata.arcgis.com/datasets/5ade4ef915c54430a32026bcb03fe1d7_0.geojson"</span>) %&gt;%
  st_transform(<span class="hljs-string">'ESRI:102254'</span>)%&gt;%
  select(geometry)</code></pre></div>
<pre><code class="hljs">## Reading layer `Trailheads' from data source 
##   `https://opendata.arcgis.com/datasets/5ade4ef915c54430a32026bcb03fe1d7_0.geojson' 
##   using driver `GeoJSON'
## Simple feature collection with 38 features and 12 fields
## Geometry type: POINT
## Dimension:     XY
## Bounding box:  xmin: -105.5192 ymin: 39.92873 xmax: -105.061 ymax: 40.24649
## Geodetic CRS:  WGS 84</code></pre>
<div class="row"><div class="col-md-12"><button type="button" class="btn btn-default btn-xs btn-secondary btn-sm code-folding-btn pull-right float-right" data-toggle="collapse" data-target="#rcode-643E0F366" aria-expanded="false" aria-controls="rcode-643E0F366"><span>Code</span></button></div></div><div class="collapse r-code-collapse" id="rcode-643E0F366"><pre class="r"><code class="hljs"><span class="hljs-comment">#Apply buffer counts and nearest neighbor function on trail heads</span>
Trailhead_in_buffer &lt;-
  st_join(TrailHead,st_buffer(studentData,<span class="hljs-number">1000</span>),join = st_within)

TrailHeadCount &lt;-
  Trailhead_in_buffer %&gt;%
  count(MUSA_ID)%&gt;%
  st_drop_geometry()

studentData &lt;-
  left_join(studentData, TrailHeadCount, by = <span class="hljs-string">"MUSA_ID"</span> )

studentData &lt;-
  studentData %&gt;%
  rename(TrailHead1000m = n)

studentData$TrailHead1000m[is.na(studentData$TrailHead1000m)] &lt;- <span class="hljs-number">0</span>

studentData &lt;-
  studentData %&gt;% 
  mutate(
    head_nn1 = nn_function(st_c(studentData), st_c(TrailHead), <span class="hljs-number">1</span>),
    head_nn2 = nn_function(st_c(studentData), st_c(TrailHead), <span class="hljs-number">2</span>), 
    head_nn3 = nn_function(st_c(studentData), st_c(TrailHead), <span class="hljs-number">3</span>),
    head_nn4 = nn_function(st_c(studentData), st_c(TrailHead), <span class="hljs-number">4</span>), 
    head_nn5 = nn_function(st_c(studentData), st_c(TrailHead), <span class="hljs-number">5</span>))

studentData &lt;-
  studentData %&gt;%
  mutate(trail_dist = st_distance(studentData, TrailHead))</code></pre></div>
</div>
<div id="section-playgrounds-schools-flood-plains" class="section level3">
<div name="Playgrounds,_Schools,_Flood_Plains" data-unique="Playgrounds,_Schools,_Flood_Plains"></div><h3>Playgrounds, Schools, Flood Plains</h3>
<p>Amenities and public services are important aspects to choose one’s location for his/her house. Considering most of the house buyers are families with children, playgrounds and schools are chosen as indicators: we create variables that captures the number of playgrounds and schools within a 500 meter radius. Housing distance to flood plains are considered due to concern of safety. Boulder County has encountered high rate of flooding for the past decade.</p>
<div class="row"><div class="col-md-12"><button type="button" class="btn btn-default btn-xs btn-secondary btn-sm code-folding-btn pull-right float-right" data-toggle="collapse" data-target="#rcode-643E0F367" aria-expanded="false" aria-controls="rcode-643E0F367"><span>Code</span></button></div></div><div class="collapse r-code-collapse" id="rcode-643E0F367"><pre class="r"><code class="hljs"><span class="hljs-comment">#Loading Playground Locations</span>
Playground &lt;- 
  st_read(<span class="hljs-string">"Playground_Sites_Points.GEOJSON"</span>) %&gt;%
  st_transform(<span class="hljs-string">'ESRI:102254'</span>)%&gt;%
  drop_na(PROPID)%&gt;%
  select(geometry)</code></pre></div>
<pre><code class="hljs">## Reading layer `Playground_Sites_Points' from data source 
##   `C:\Users\sabir\Documents\GitHub\Midterm\Playground_Sites_Points.geojson' 
##   using driver `GeoJSON'
## Simple feature collection with 89 features and 40 fields
## Geometry type: POINT
## Dimension:     XY
## Bounding box:  xmin: -105.2959 ymin: 39.96524 xmax: -105.1702 ymax: 40.08546
## Geodetic CRS:  WGS 84</code></pre>
<div class="row"><div class="col-md-12"><button type="button" class="btn btn-default btn-xs btn-secondary btn-sm code-folding-btn pull-right float-right" data-toggle="collapse" data-target="#rcode-643E0F368" aria-expanded="false" aria-controls="rcode-643E0F368"><span>Code</span></button></div></div><div class="collapse r-code-collapse" id="rcode-643E0F368"><pre class="r"><code class="hljs">Playground.sf &lt;-
  st_join(Playground,st_buffer(studentData,<span class="hljs-number">500</span>),join = st_within)

PGCount &lt;-
  Playground.sf %&gt;%
  count(MUSA_ID)%&gt;%
  st_drop_geometry()

studentData &lt;-
  left_join(studentData, PGCount, by = <span class="hljs-string">"MUSA_ID"</span> )
  
studentData &lt;-
  studentData %&gt;%
  rename(pgcount500m = n)

studentData$pgcount500m[is.na(studentData$pgcount500m)] &lt;- <span class="hljs-number">0</span>
  

<span class="hljs-comment">#Loading School Locations</span>
Schools &lt;- 
  st_read(<span class="hljs-string">"CDPHE_CDOE_School_Locations_and_District_Office_Locations.GEOJSON"</span>)%&gt;%
  st_transform(<span class="hljs-string">'ESRI:102254'</span>)%&gt;%
  filter(COUNTY == <span class="hljs-string">"BOULDER"</span>)</code></pre></div>
<pre><code class="hljs">## Reading layer `CDPHE_CDOE_School_Locations_and_District_Office_Locations' from data source `C:\Users\sabir\Documents\GitHub\Midterm\CDPHE_CDOE_School_Locations_and_District_Office_Locations.geojson' 
##   using driver `GeoJSON'
## Simple feature collection with 2800 features and 18 fields
## Geometry type: POINT
## Dimension:     XY
## Bounding box:  xmin: -108.9626 ymin: 37.01912 xmax: -102.1213 ymax: 40.99073
## Geodetic CRS:  WGS 84</code></pre>
<div class="row"><div class="col-md-12"><button type="button" class="btn btn-default btn-xs btn-secondary btn-sm code-folding-btn pull-right float-right" data-toggle="collapse" data-target="#rcode-643E0F369" aria-expanded="false" aria-controls="rcode-643E0F369"><span>Code</span></button></div></div><div class="collapse r-code-collapse" id="rcode-643E0F369"><pre class="r"><code class="hljs">Private_School &lt;-
  filter(Schools, startsWith(Type_, <span class="hljs-string">"Non-"</span>))

studentData &lt;-
  studentData %&gt;% 
  mutate(
  school_nn1 = nn_function(st_c(studentData), st_c(Schools), <span class="hljs-number">1</span>))

studentData &lt;-
  studentData %&gt;%
  mutate(
    privatesch_nn1 = nn_function(st_c(studentData),st_c(Private_School),<span class="hljs-number">1</span>),
    privatesch_nn2 = nn_function(st_c(studentData),st_c(Private_School),<span class="hljs-number">2</span>),
    privatesch_nn3 = nn_function(st_c(studentData),st_c(Private_School),<span class="hljs-number">3</span>),
    privat_dist = st_distance(studentData,Private_School, by_element = <span class="hljs-literal">TRUE</span>))

<span class="hljs-comment">#Loading Flood Plain</span>
Floodplain &lt;-
 st_read(<span class="hljs-string">"https://opendata.arcgis.com/datasets/30674682e55e4e1b8b0e407b0fe23b9a_0.geojson"</span>) %&gt;%
 st_transform(<span class="hljs-string">'ESRI:102254'</span>)%&gt;%
  st_union()</code></pre></div>
<pre><code class="hljs">## Reading layer `Cross_Sections_(Boulder_County)' from data source 
##   `https://opendata.arcgis.com/datasets/30674682e55e4e1b8b0e407b0fe23b9a_0.geojson' 
##   using driver `GeoJSON'
## Simple feature collection with 7700 features and 19 fields
## Geometry type: LINESTRING
## Dimension:     XY
## Bounding box:  xmin: -105.5837 ymin: 39.91368 xmax: -105.0005 ymax: 40.26173
## Geodetic CRS:  WGS 84</code></pre>
<div class="row"><div class="col-md-12"><button type="button" class="btn btn-default btn-xs btn-secondary btn-sm code-folding-btn pull-right float-right" data-toggle="collapse" data-target="#rcode-643E0F3610" aria-expanded="false" aria-controls="rcode-643E0F3610"><span>Code</span></button></div></div><div class="collapse r-code-collapse" id="rcode-643E0F3610"><pre class="r"><code class="hljs">studentData &lt;-
  studentData %&gt;%
  mutate(flood_dist = st_distance(studentData, Floodplain),by_element = <span class="hljs-literal">TRUE</span>)


<span class="hljs-comment"># This selects all numeric variables as preparation for the</span>
<span class="hljs-comment"># correlation analysis that follows.</span>
<span class="hljs-comment">#(also delete the outliar)</span>

cleanData &lt;-
  select_if(st_drop_geometry(studentData), is.numeric) %&gt;%
  select(!c(year, ExtWallSec, IntWall, Roof_Cover, Stories, UnitCount))%&gt;%
  slice(-<span class="hljs-number">2638</span>)

student.Data.GEOID &lt;-
  select(studentData,GEOID,MUSA_ID)

cleanData &lt;- 
  left_join(cleanData,student.Data.GEOID)

cleanData$Ac[(cleanData$Ac)== <span class="hljs-number">0</span>] &lt;- <span class="hljs-literal">NA</span>
cleanData$Heating[(cleanData$Heating) == <span class="hljs-number">0</span>] &lt;- <span class="hljs-literal">NA</span></code></pre></div>
<div class="row"><div class="col-md-12"><button type="button" class="btn btn-default btn-xs btn-secondary btn-sm code-folding-btn pull-right float-right" data-toggle="collapse" data-target="#rcode-643E0F3611" aria-expanded="false" aria-controls="rcode-643E0F3611"><span>Code</span></button></div></div><div class="collapse r-code-collapse" id="rcode-643E0F3611"><pre class="r"><code class="hljs"><span class="hljs-comment">#Parks</span>
ggplot()+
  geom_sf(data = BoulderCounty_Bundary, fill = <span class="hljs-string">"grey70"</span>) +
  geom_sf(data = tracts19, colour = <span class="hljs-string">"black"</span>)+
  geom_sf(data = Park, colour = alpha(<span class="hljs-string">"purple"</span>,<span class="hljs-number">0.5</span>)) +
  geom_sf(data = studentData, aes(colour = q5(price)),size=<span class="hljs-number">.85</span>)+
  scale_colour_manual(values = palette5,
                      labels=qbr(studentData,<span class="hljs-string">"price"</span>),
                      name = <span class="hljs-string">"Sale Price"</span>) +
  labs(title = <span class="hljs-string">"Park Locations (in purple) in Boulder County"</span>)+
  mapTheme()</code></pre></div>
<p><img src="./Midterm Project_files/Maps of indepdent variables-1.png" width="672"></p>
</div>
</div>
</div>
<div id="section-the-model" class="section level1">
<div name="The_Model" data-unique="The_Model"></div><h1>The Model</h1>
<div id="section-preparation-for-machine-learning-and-regression-model" class="section level2">
<div name="Preparation_for_machine_learning_and_regression_model" data-unique="Preparation_for_machine_learning_and_regression_model"></div><h2>Preparation for machine learning and regression model</h2>
<p>Regression model is a good predicting method that considers all the interested variables. In order to prepare for the regression, we need to train our data by machine learning and cross-validate our to see if the model is appropriate to generalize on other data sets.</p>
<p>First, We do a 75/25 split of the data with price information with selected variables. 75% of the data is to be trained on. 25% is to be tested on for validation.</p>
<div class="row"><div class="col-md-12"><button type="button" class="btn btn-default btn-xs btn-secondary btn-sm code-folding-btn pull-right float-right" data-toggle="collapse" data-target="#rcode-643E0F3612" aria-expanded="false" aria-controls="rcode-643E0F3612"><span>Code</span></button></div></div><div class="collapse r-code-collapse" id="rcode-643E0F3612"><pre class="r"><code class="hljs"><span class="hljs-comment"># The test data only includes rows comprising the test set.</span>
<span class="hljs-comment"># Remove Outliars</span>

test.Data &lt;- filter(cleanData, toPredict == <span class="hljs-number">1</span>)

<span class="hljs-comment">#Split the âtoPredictâ == 0 into a separate training and test set </span>
<span class="hljs-comment">#using a 75/25 split</span>

train.Data &lt;- filter(cleanData, toPredict == <span class="hljs-number">0</span>) %&gt;%
  na.omit()

inTrain &lt;- createDataPartition(
  y = paste(train.Data$Heating, train.Data$Ac,train.Data$GEOID), 
  p = <span class="hljs-number">.75</span>, list = <span class="hljs-literal">FALSE</span>)
train.Data.1 &lt;- train.Data[inTrain,] 
train.Data.2 &lt;- train.Data[-inTrain,]

<span class="hljs-comment"># This function here attempts to fit a linear model to</span>
<span class="hljs-comment"># the relationship between "testData" variables.</span>
ggplot(data = train.Data, aes(head_nn5, price)) +
       geom_point(size = <span class="hljs-number">.5</span>) + 
       geom_smooth(method = <span class="hljs-string">"lm"</span>)+
  labs(title = <span class="hljs-string">"Correlation between Housing Sale Price and the Average Distance to the Nearest Five Trail Heads"</span>, x = <span class="hljs-string">"Distance (m)"</span>, y = <span class="hljs-string">"Sale Price ($)"</span>,caption = <span class="hljs-string">"Fig. 1"</span>)+
  plotTheme()</code></pre></div>
<p><img src="./Midterm Project_files/Train &amp; Test-1.png" width="672"></p>
<div class="row"><div class="col-md-12"><button type="button" class="btn btn-default btn-xs btn-secondary btn-sm code-folding-btn pull-right float-right" data-toggle="collapse" data-target="#rcode-643E0F3613" aria-expanded="false" aria-controls="rcode-643E0F3613"><span>Code</span></button></div></div><div class="collapse r-code-collapse" id="rcode-643E0F3613"><pre class="r"><code class="hljs"><span class="hljs-comment">#Dataframe with variables of interest</span>
train.Data.clean &lt;-
  train.Data %&gt;%
  select(price, 
         section_num,
         qualityCode,
         TotalFinishedSF,
         Age,
         Ac,
         Heating,
         med_inc,
         nbrRoomsNobath,
         vac_occ,
         tot_pop,
         pop_den,
         pvty_pop,
         head_nn5,
         park_nn1,
         Boul_dummy,
         Loui_dummy,
         pgcount500m,
         TotalBath,
         flood_dist,
         landmark_dist,
         privat_dist)</code></pre></div>
</div>
<div id="section-correllation-test-signifcance" class="section level2">
<div name="Correllation__Test_Signifcance" data-unique="Correllation__Test_Signifcance"></div><h2>Correllation &amp; Test Signifcance</h2>
<p>Prior to the the regression set-up, the relationship across all the variables are evaluated to see if they are significant indicator for prediction. In Fig.1 Pearson Correlation is imputed: a strong orange shows strong positive correlation and a strong green shows strong negative correlate between selected variables.</p>
<p>Note that price is strongly correlated with section number, quality code, total finished square footage, number of bathrooms, if it’s the city of Boulder, and count of playground within 500 meter radius.</p>
<p>Fig 2 is a in-depth look of Fig 1 where we evaluate correlation between price and selected variable. Strong positive correlation is seen between price and total square footage. Negative correlation is seen between price and distance away from landmark and private schools, indicating the further away from landmark and private school, the less the price.</p>
<p><img src="./Midterm Project_files/Correllation &amp; Test Signicance-1.png" width="672"><img src="./Midterm Project_files/Correllation &amp; Test Signicance-2.png" width="672"></p>
<pre><code class="hljs">## 
## Call:
## lm(formula = price ~ ., data = train.Data %&gt;% dplyr::select(price, 
##     qualityCode, TotalFinishedSF, mainfloorSF, Age, pop_den, 
##     med_inc))
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -1590341  -188808   -50635   116708  5488603 
## 
## Coefficients:
##                   Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)     -1.566e+06  3.802e+04 -41.184  &lt; 2e-16 ***
## qualityCode      3.717e+04  9.059e+02  41.035  &lt; 2e-16 ***
## TotalFinishedSF  1.319e+02  8.876e+00  14.860  &lt; 2e-16 ***
## mainfloorSF      3.624e+01  1.048e+01   3.458 0.000547 ***
## Age              7.853e+03  2.504e+02  31.366  &lt; 2e-16 ***
## pop_den          7.324e+01  6.805e+00  10.762  &lt; 2e-16 ***
## med_inc          6.184e+00  5.942e-01  10.407  &lt; 2e-16 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 406400 on 7416 degrees of freedom
## Multiple R-squared:  0.4735, Adjusted R-squared:  0.473 
## F-statistic:  1111 on 6 and 7416 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div id="section-k-folds-multivariate" class="section level2">
<div name="K-folds__Multivariate" data-unique="K-folds__Multivariate"></div><h2>K-folds &amp; Multivariate</h2>
<p>K-folds validates the regression model. We divide the data into 100 folds, and run regression over each fold to compare the errors between observed price and the predicted price.</p>
<p>Table 2. returns the result that tells us if how well each variable performs in the prediction: P-value &lt; 0.05 indicates the variable is significant. R-square at the end gives a percentage of how well our model can control the error.</p>
<pre><code class="hljs">## 
## &lt;table style="text-align:center"&gt;&lt;caption&gt;&lt;strong&gt;Table 2. Variation of selected variable and Error Control of the regression model&lt;/strong&gt;&lt;/caption&gt;
## &lt;tr&gt;&lt;td colspan="2" style="border-bottom: 1px solid black"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;em&gt;Dependent variable:&lt;/em&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td colspan="1" style="border-bottom: 1px solid black"&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;Housing Price&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="2" style="border-bottom: 1px solid black"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style="text-align:left"&gt;section_num&lt;/td&gt;&lt;td&gt;423,941.100&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;(87,109.170)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;qualityCode&lt;/td&gt;&lt;td&gt;24,446.540&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;(997.759)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;TotalFinishedSF&lt;/td&gt;&lt;td&gt;168.358&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;(9.799)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Age&lt;/td&gt;&lt;td&gt;2,981.650&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;(317.240)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Ac&lt;/td&gt;&lt;td&gt;-15,382.800&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;(3,704.161)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Heating&lt;/td&gt;&lt;td&gt;3,559.145&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;(553.873)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;med_inc&lt;/td&gt;&lt;td&gt;-1.189&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;(0.834)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;nbrRoomsNobath&lt;/td&gt;&lt;td&gt;158.429&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;(3,500.340)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;landmark_dist&lt;/td&gt;&lt;td&gt;-12.272&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;(4.727)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;white_pop&lt;/td&gt;&lt;td&gt;-4.257&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;(3.696)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;pop_den&lt;/td&gt;&lt;td&gt;11.346&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;(7.878)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;pvty_pop&lt;/td&gt;&lt;td&gt;-17.540&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;(21.184)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;privat_dist&lt;/td&gt;&lt;td&gt;0.272&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;(0.665)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;head_nn5&lt;/td&gt;&lt;td&gt;-20.286&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;(6.386)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;park_nn1&lt;/td&gt;&lt;td&gt;31.607&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;(5.197)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Loui_dummy&lt;/td&gt;&lt;td&gt;175,159.000&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;(26,927.210)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Ward_dummy&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Jame_dummy&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Nede_dummy&lt;/td&gt;&lt;td&gt;300,647.700&lt;sup&gt;**&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;(151,558.700)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Boul_dummy&lt;/td&gt;&lt;td&gt;426,155.300&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;(26,261.500)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Erie_dummy&lt;/td&gt;&lt;td&gt;-135,367.800&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;(32,217.860)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Lafa_dummy&lt;/td&gt;&lt;td&gt;116,721.900&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;(28,655.890)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Long_dummy&lt;/td&gt;&lt;td&gt;-158,320.900&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;(20,665.180)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;TotalBath&lt;/td&gt;&lt;td&gt;42,969.340&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;(7,229.417)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;pgcount500m&lt;/td&gt;&lt;td&gt;-27,487.310&lt;sup&gt;*&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;(14,214.150)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;flood_dist&lt;/td&gt;&lt;td&gt;-36.968&lt;sup&gt;***&lt;/sup&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;(4.680)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Constant&lt;/td&gt;&lt;td&gt;-612,823.800&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;(845,377.300)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="2" style="border-bottom: 1px solid black"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style="text-align:left"&gt;Observations&lt;/td&gt;&lt;td&gt;5,654&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;R&lt;sup&gt;2&lt;/sup&gt;&lt;/td&gt;&lt;td&gt;0.603&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Adjusted R&lt;sup&gt;2&lt;/sup&gt;&lt;/td&gt;&lt;td&gt;0.601&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Residual Std. Error&lt;/td&gt;&lt;td&gt;361,090.500 (df = 5629)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;F Statistic&lt;/td&gt;&lt;td&gt;355.930&lt;sup&gt;***&lt;/sup&gt; (df = 24; 5629)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="2" style="border-bottom: 1px solid black"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style="text-align:left"&gt;&lt;em&gt;Note:&lt;/em&gt;&lt;/td&gt;&lt;td style="text-align:right"&gt;&lt;sup&gt;*&lt;/sup&gt;p&lt;0.1; &lt;sup&gt;**&lt;/sup&gt;p&lt;0.05; &lt;sup&gt;***&lt;/sup&gt;p&lt;0.01&lt;/td&gt;&lt;/tr&gt;
## &lt;/table&gt;</code></pre>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
Table 2. Regression Model Predicting Variation on Housing Sales Price
</caption>
<thead>
<tr>
<th style="text-align:left;">
Predictor
</th>
<th style="text-align:right;">
Estimate
</th>
<th style="text-align:right;">
Standard Error
</th>
<th style="text-align:right;">
T-Value
</th>
<th style="text-align:right;">
P-Value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
(Intercept)
</td>
<td style="text-align:right;">
-612823.81
</td>
<td style="text-align:right;">
845377.26
</td>
<td style="text-align:right;">
-0.72
</td>
<td style="text-align:right;">
0.47
</td>
</tr>
<tr>
<td style="text-align:left;">
section_num
</td>
<td style="text-align:right;">
423941.11
</td>
<td style="text-align:right;">
87109.17
</td>
<td style="text-align:right;">
4.87
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
qualityCode
</td>
<td style="text-align:right;">
24446.54
</td>
<td style="text-align:right;">
997.76
</td>
<td style="text-align:right;">
24.50
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
TotalFinishedSF
</td>
<td style="text-align:right;">
168.36
</td>
<td style="text-align:right;">
9.80
</td>
<td style="text-align:right;">
17.18
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
Age
</td>
<td style="text-align:right;">
2981.65
</td>
<td style="text-align:right;">
317.24
</td>
<td style="text-align:right;">
9.40
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
Ac
</td>
<td style="text-align:right;">
-15382.80
</td>
<td style="text-align:right;">
3704.16
</td>
<td style="text-align:right;">
-4.15
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
Heating
</td>
<td style="text-align:right;">
3559.14
</td>
<td style="text-align:right;">
553.87
</td>
<td style="text-align:right;">
6.43
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
med_inc
</td>
<td style="text-align:right;">
-1.19
</td>
<td style="text-align:right;">
0.83
</td>
<td style="text-align:right;">
-1.43
</td>
<td style="text-align:right;">
0.15
</td>
</tr>
<tr>
<td style="text-align:left;">
nbrRoomsNobath
</td>
<td style="text-align:right;">
158.43
</td>
<td style="text-align:right;">
3500.34
</td>
<td style="text-align:right;">
0.05
</td>
<td style="text-align:right;">
0.96
</td>
</tr>
<tr>
<td style="text-align:left;">
landmark_dist
</td>
<td style="text-align:right;">
-12.27
</td>
<td style="text-align:right;">
4.73
</td>
<td style="text-align:right;">
-2.60
</td>
<td style="text-align:right;">
0.01
</td>
</tr>
<tr>
<td style="text-align:left;">
white_pop
</td>
<td style="text-align:right;">
-4.26
</td>
<td style="text-align:right;">
3.70
</td>
<td style="text-align:right;">
-1.15
</td>
<td style="text-align:right;">
0.25
</td>
</tr>
<tr>
<td style="text-align:left;">
pop_den
</td>
<td style="text-align:right;">
11.35
</td>
<td style="text-align:right;">
7.88
</td>
<td style="text-align:right;">
1.44
</td>
<td style="text-align:right;">
0.15
</td>
</tr>
<tr>
<td style="text-align:left;">
pvty_pop
</td>
<td style="text-align:right;">
-17.54
</td>
<td style="text-align:right;">
21.18
</td>
<td style="text-align:right;">
-0.83
</td>
<td style="text-align:right;">
0.41
</td>
</tr>
<tr>
<td style="text-align:left;">
privat_dist
</td>
<td style="text-align:right;">
0.27
</td>
<td style="text-align:right;">
0.67
</td>
<td style="text-align:right;">
0.41
</td>
<td style="text-align:right;">
0.68
</td>
</tr>
<tr>
<td style="text-align:left;">
head_nn5
</td>
<td style="text-align:right;">
-20.29
</td>
<td style="text-align:right;">
6.39
</td>
<td style="text-align:right;">
-3.18
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
park_nn1
</td>
<td style="text-align:right;">
31.61
</td>
<td style="text-align:right;">
5.20
</td>
<td style="text-align:right;">
6.08
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
Loui_dummy
</td>
<td style="text-align:right;">
175159.04
</td>
<td style="text-align:right;">
26927.21
</td>
<td style="text-align:right;">
6.50
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
Ward_dummy
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Jame_dummy
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
<td style="text-align:right;">
NA
</td>
</tr>
<tr>
<td style="text-align:left;">
Nede_dummy
</td>
<td style="text-align:right;">
300647.73
</td>
<td style="text-align:right;">
151558.70
</td>
<td style="text-align:right;">
1.98
</td>
<td style="text-align:right;">
0.05
</td>
</tr>
<tr>
<td style="text-align:left;">
Boul_dummy
</td>
<td style="text-align:right;">
426155.32
</td>
<td style="text-align:right;">
26261.50
</td>
<td style="text-align:right;">
16.23
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
Erie_dummy
</td>
<td style="text-align:right;">
-135367.80
</td>
<td style="text-align:right;">
32217.86
</td>
<td style="text-align:right;">
-4.20
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
Lafa_dummy
</td>
<td style="text-align:right;">
116721.92
</td>
<td style="text-align:right;">
28655.89
</td>
<td style="text-align:right;">
4.07
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
Long_dummy
</td>
<td style="text-align:right;">
-158320.88
</td>
<td style="text-align:right;">
20665.18
</td>
<td style="text-align:right;">
-7.66
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
TotalBath
</td>
<td style="text-align:right;">
42969.34
</td>
<td style="text-align:right;">
7229.42
</td>
<td style="text-align:right;">
5.94
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
<tr>
<td style="text-align:left;">
pgcount500m
</td>
<td style="text-align:right;">
-27487.31
</td>
<td style="text-align:right;">
14214.15
</td>
<td style="text-align:right;">
-1.93
</td>
<td style="text-align:right;">
0.05
</td>
</tr>
<tr>
<td style="text-align:left;">
flood_dist
</td>
<td style="text-align:right;">
-36.97
</td>
<td style="text-align:right;">
4.68
</td>
<td style="text-align:right;">
-7.90
</td>
<td style="text-align:right;">
0.00
</td>
</tr>
</tbody>
</table>
<pre><code class="hljs">## Linear Regression 
## 
## 5654 samples
##   22 predictor
## 
## No pre-processing
## Resampling: Cross-Validated (100 fold) 
## Summary of sample sizes: 5598, 5596, 5598, 5598, 5598, 5598, ... 
## Resampling results:
## 
##   RMSE      Rsquared   MAE   
##   333334.4  0.6667946  202297
## 
## Tuning parameter 'intercept' was held constant at a value of TRUE</code></pre>
</div>
<div id="section-mae-histogram" class="section level2">
<div name="MAE_Histogram" data-unique="MAE_Histogram"></div><h2>MAE Histogram</h2>
<p>Describe what we did here.</p>
<div class="row"><div class="col-md-12"><button type="button" class="btn btn-default btn-xs btn-secondary btn-sm code-folding-btn pull-right float-right" data-toggle="collapse" data-target="#rcode-643E0F3614" aria-expanded="false" aria-controls="rcode-643E0F3614"><span>Code</span></button></div></div><div class="collapse r-code-collapse" id="rcode-643E0F3614"><pre class="r"><code class="hljs"><span class="hljs-comment">#MAE Histogram</span>
<span class="hljs-comment">#This allows you to see the distribution of MAE of the folds</span>

ggplot(regression.100foldcv$resample, aes(x=MAE))+
  geom_histogram(colour = <span class="hljs-string">"white"</span>,fill=<span class="hljs-string">"orange"</span>)+
  labs(title=<span class="hljs-string">"Distribution of MAE"</span>,x=<span class="hljs-string">"Mean Absolute Error"</span>, y = <span class="hljs-string">"Count"</span>,
       subtitle = <span class="hljs-string">"k-fold cross-validation; k = 100"</span>,
       caption = <span class="hljs-string">"Figure 2"</span>)+
  theme_apa()</code></pre></div>
<p><img src="./Midterm Project_files/MAE Histogram-1.png" width="672"></p>
</div>
<div id="section-predictions" class="section level2">
<div name="Predictions" data-unique="Predictions"></div><h2>Predictions</h2>
<p>Describe what we did here.</p>
<div class="row"><div class="col-md-12"><button type="button" class="btn btn-default btn-xs btn-secondary btn-sm code-folding-btn pull-right float-right" data-toggle="collapse" data-target="#rcode-643E0F3615" aria-expanded="false" aria-controls="rcode-643E0F3615"><span>Code</span></button></div></div><div class="collapse r-code-collapse" id="rcode-643E0F3615"><pre class="r"><code class="hljs"><span class="hljs-comment">#################</span>
<span class="hljs-comment">#Run model on unpredicted dataset</span>

train.Data.2 &lt;-
  train.Data.2 %&gt;%
  mutate(SalePrice.Predict = predict(reg1, train.Data.2))
         
train.Data.2 &lt;-
  train.Data.2 %&gt;%
        mutate(Regression = <span class="hljs-string">"Baseline Regression"</span>,
          SalePrice.Error = SalePrice.Predict - price,
         SalePrice.AbsError = abs(SalePrice.Predict - price),
        SalePrice.APE = (abs(SalePrice.Predict - price)) / SalePrice.Predict)

<span class="hljs-comment">#Table of mean absolute error and MAPE</span>
Prediction.Variation &lt;- <span class="hljs-string">"Trial 1"</span> 
MeanAb &lt;- mean(train.Data.2$SalePrice.AbsError,na.rm = <span class="hljs-literal">T</span>)
MeanAPE &lt;- mean(train.Data.2$SalePrice.APE, na.rm = <span class="hljs-literal">T</span>)

MeanAb.table &lt;- data.frame(<span class="hljs-string">"Model"</span>= Prediction.Variation,<span class="hljs-string">"Mean Absolute Error ($)"</span>= MeanAb,
                           <span class="hljs-string">"Mean Absolute Percentage Error (%)"</span> = MeanAPE)

kable(MeanAb.table, digit = <span class="hljs-number">2</span>,
      caption = <span class="hljs-string">"Table 3. Mean Absolute Error and Absolute
      Percentage Error on the Prediction Trial"</span>,
      col.names = c(<span class="hljs-string">"Regression"</span>,
                    <span class="hljs-string">"Mean Absolute Error ($)"</span>,
                    <span class="hljs-string">"Mean Absolute Percentage Error (%)"</span>))%&gt;%
  kable_styling(latex_options = <span class="hljs-string">"HOLD_position"</span>)</code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
Table 3. Mean Absolute Error and Absolute Percentage Error on the Prediction Trial
</caption>
<thead>
<tr>
<th style="text-align:left;">
Regression
</th>
<th style="text-align:right;">
Mean Absolute Error ($)
</th>
<th style="text-align:right;">
Mean Absolute Percentage Error (%)
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Trial 1
</td>
<td style="text-align:right;">
187397.1
</td>
<td style="text-align:right;">
0.32
</td>
</tr>
</tbody>
</table>
</div>
<div id="section-plot-predictions" class="section level2">
<div name="Plot_Predictions" data-unique="Plot_Predictions"></div><h2>Plot Predictions</h2>
<p>Describe what we did here.</p>
<div class="row"><div class="col-md-12"><button type="button" class="btn btn-default btn-xs btn-secondary btn-sm code-folding-btn pull-right float-right" data-toggle="collapse" data-target="#rcode-643E0F3616" aria-expanded="false" aria-controls="rcode-643E0F3616"><span>Code</span></button></div></div><div class="collapse r-code-collapse" id="rcode-643E0F3616"><pre class="r"><code class="hljs"><span class="hljs-comment">#Plot of predicted prices as a function of observed price</span>
ggplot(data = train.Data.2, aes(price,SalePrice.Predict)) +
  geom_point(size = <span class="hljs-number">.85</span>,colour = <span class="hljs-string">"orange"</span>) + 
  geom_smooth(method = <span class="hljs-string">"lm"</span>,colour = <span class="hljs-string">"red"</span>,size = <span class="hljs-number">1.2</span>)+
  labs(x = <span class="hljs-string">"Obeserved Prices"</span>,y = <span class="hljs-string">"Predicted Prices"</span>, title = <span class="hljs-string">"Predicted Prices as a Function of Observed Prices"</span>,
       subtitle = <span class="hljs-string">"Boulder County, CO (all in $)"</span>, 
       caption = <span class="hljs-string">"Fig 3"</span>)+
  theme(plot.title = element_text(size = <span class="hljs-number">20</span>),
        plot.subtitle = element_text(size = <span class="hljs-number">15</span>),
        axis.title.x = element_text(size = <span class="hljs-number">15</span>),
        axis.title.y = element_text(size = <span class="hljs-number">15</span>),
        axis.line = element_line(colour = <span class="hljs-string">"grey50"</span>, size = <span class="hljs-number">1</span>),
        panel.grid.major = element_line(linetype = <span class="hljs-string">"dotted"</span>,size = <span class="hljs-number">1</span>))</code></pre></div>
<p><img src="./Midterm Project_files/Plot Predictions-1.png" width="672"></p>
<div class="row"><div class="col-md-12"><button type="button" class="btn btn-default btn-xs btn-secondary btn-sm code-folding-btn pull-right float-right" data-toggle="collapse" data-target="#rcode-643E0F3617" aria-expanded="false" aria-controls="rcode-643E0F3617"><span>Code</span></button></div></div><div class="collapse r-code-collapse" id="rcode-643E0F3617"><pre class="r"><code class="hljs"><span class="hljs-comment">#Map of residuals</span>
<span class="hljs-comment">#This allows you to see the degree of error across over Boulder County</span>

train.Data.2 &lt;-
  left_join(train.Data.2, studentData)%&gt;%
  st_as_sf()

ggplot()+
  geom_sf(data = BoulderCounty_Bundary, fill = <span class="hljs-string">"grey70"</span>) +
  geom_sf(data = tracts19,colour = <span class="hljs-string">"Black"</span>) +
  geom_sf(data = train.Data.2, aes(colour = SalePrice.AbsError),size=<span class="hljs-number">.90</span>)+
  scale_colour_gradient(low = <span class="hljs-string">"#00cfbb"</span>, high = <span class="hljs-string">"#6f5ad3"</span>,
    name = <span class="hljs-string">"Absolute Error ($)"</span> ) +
  labs(title = <span class="hljs-string">"Absolute Errors between Observed and Predicted Housing Price"</span>)+
  mapTheme()</code></pre></div>
<p><img src="./Midterm Project_files/Plot Predictions-2.png" width="672"></p>
</div>
<div id="section-lag-price-errors" class="section level2">
<div name="Lag_Price_Errors" data-unique="Lag_Price_Errors"></div><h2>Lag Price Errors</h2>
<p>Describe what we did here.</p>
<div class="row"><div class="col-md-12"><button type="button" class="btn btn-default btn-xs btn-secondary btn-sm code-folding-btn pull-right float-right" data-toggle="collapse" data-target="#rcode-643E0F3618" aria-expanded="false" aria-controls="rcode-643E0F3618"><span>Code</span></button></div></div><div class="collapse r-code-collapse" id="rcode-643E0F3618"><pre class="r"><code class="hljs"><span class="hljs-comment">##################</span>
<span class="hljs-comment">#Lag Price Errors</span>

coords.test &lt;-  st_coordinates(train.Data.2) 
neighborList.test &lt;- knn2nb(knearneigh(coords.test, <span class="hljs-number">5</span>))
spatialWeights.test &lt;- nb2listw(neighborList.test, style=<span class="hljs-string">"W"</span>)

train.Data.2.lag &lt;-
train.Data.2 %&gt;% 
  mutate(lagPriceError = lag.listw(spatialWeights.test, SalePrice.Error))

ggplot(data = train.Data.2.lag, aes(lagPriceError, SalePrice.Error)) +
  geom_point(size = <span class="hljs-number">.85</span>,colour = <span class="hljs-string">"orange"</span>) + 
  geom_smooth(method = <span class="hljs-string">"lm"</span>,colour = <span class="hljs-string">"red"</span>,size = <span class="hljs-number">1.2</span>)+
  labs(x = <span class="hljs-string">"Spatial Lag of Errors (Mean error of five nearest neighbors)"</span>,y = <span class="hljs-string">"Sale Price Error"</span>, title = <span class="hljs-string">"Lag Sale Price Errors against Predicted Sale Price Error"</span>,
       subtitle = <span class="hljs-string">"Boulder County, CO (all in $)"</span>)+
  theme(plot.title = element_text(size = <span class="hljs-number">20</span>),
        plot.subtitle = element_text(size = <span class="hljs-number">15</span>),
        axis.title.x = element_text(size = <span class="hljs-number">15</span>),
        axis.title.y = element_text(size = <span class="hljs-number">15</span>),
        axis.line = element_line(colour = <span class="hljs-string">"grey50"</span>, size = <span class="hljs-number">1</span>),
        panel.grid.major = element_line(linetype = <span class="hljs-string">"dotted"</span>,size = <span class="hljs-number">1</span>))</code></pre></div>
<p><img src="./Midterm Project_files/Lag Price Errors-1.png" width="672"></p>
</div>
<div id="section-morans-i" class="section level2">
<div name="Moran’s_I" data-unique="Moran’s_I"></div><h2>Moran’s I</h2>
<p>Describe what we did here.</p>
<div class="row"><div class="col-md-12"><button type="button" class="btn btn-default btn-xs btn-secondary btn-sm code-folding-btn pull-right float-right" data-toggle="collapse" data-target="#rcode-643E0F3619" aria-expanded="false" aria-controls="rcode-643E0F3619"><span>Code</span></button></div></div><div class="collapse r-code-collapse" id="rcode-643E0F3619"><pre class="r"><code class="hljs"><span class="hljs-comment">#Moran's I</span>

moranTest &lt;- moran.mc(train.Data.2$SalePrice.Error, 
                      spatialWeights.test, nsim = <span class="hljs-number">999</span>)

ggplot(as.data.frame(moranTest$res[c(<span class="hljs-number">1</span>:<span class="hljs-number">999</span>)]), aes(moranTest$res[c(<span class="hljs-number">1</span>:<span class="hljs-number">999</span>)])) +
  geom_histogram(binwidth = <span class="hljs-number">0.01</span>) +
  geom_vline(aes(xintercept = moranTest$statistic), colour = <span class="hljs-string">"#FA7800"</span>,size=<span class="hljs-number">1</span>) +
  scale_x_continuous(limits = c(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)) +
  labs(title=<span class="hljs-string">"Observed and permuted Moran's I"</span>,
       subtitle= <span class="hljs-string">"Observed Moran's I in orange"</span>,
       x=<span class="hljs-string">"Moran's I"</span>,
       y=<span class="hljs-string">"Count"</span>) +
  plotTheme()</code></pre></div>
<p><img src="./Midterm Project_files/Morans I-1.png" width="672"></p>
</div>
<div id="section-etc." class="section level2">
<div name="Etc" data-unique="Etc"></div><h2>Etc.</h2>
<p>Describe what we did here.</p>
<div class="row"><div class="col-md-12"><button type="button" class="btn btn-default btn-xs btn-secondary btn-sm code-folding-btn pull-right float-right" data-toggle="collapse" data-target="#rcode-643E0F3620" aria-expanded="false" aria-controls="rcode-643E0F3620"><span>Code</span></button></div></div><div class="collapse r-code-collapse" id="rcode-643E0F3620"><pre class="r"><code class="hljs"><span class="hljs-comment">#Map of predicted value on both == 1 and == 0</span>
test.Data &lt;-
  test.Data %&gt;%
  mutate(SalePrice.Predict = predict(reg1, test.Data))

test.Data.sf &lt;-
  left_join(test.Data, studentData) %&gt;%
  st_as_sf()

merge.predicted &lt;-
  train.Data.2 %&gt;%
  select(-SalePrice.Error,-SalePrice.AbsError, -SalePrice.APE,-Regression)

merge.predicted &lt;-
  rbind(merge.predicted,test.Data.sf)

ggplot()+
  geom_sf(data = BoulderCounty_Bundary, fill = <span class="hljs-string">"grey70"</span>) +
  geom_sf(data = BoulderMuni_Boundary, aes(fill = Municipality, alpha=<span class="hljs-number">0.5</span>),colour = <span class="hljs-string">"white"</span>)+
  geom_sf(data = merge.predicted, aes(colour = q5(SalePrice.Predict)),size=<span class="hljs-number">.85</span>)+
  scale_colour_manual(values = palette5,
                      labels=qbr(merge.predicted,<span class="hljs-string">"SalePrice.Predict"</span>),
                      name = <span class="hljs-string">"Predicted Sale Price"</span>)+
  labs(title = <span class="hljs-string">"Predicted Sale Prices in Boulder County"</span>,
       subtitle = <span class="hljs-string">"Bouolder, Colorado ($)"</span>,
       caption = <span class="hljs-string">"Fig.2"</span>)+
  mapTheme()</code></pre></div>
<p><img src="./Midterm Project_files/Etc-1.png" width="672"></p>
<div class="row"><div class="col-md-12"><button type="button" class="btn btn-default btn-xs btn-secondary btn-sm code-folding-btn pull-right float-right" data-toggle="collapse" data-target="#rcode-643E0F3621" aria-expanded="false" aria-controls="rcode-643E0F3621"><span>Code</span></button></div></div><div class="collapse r-code-collapse" id="rcode-643E0F3621"><pre class="r"><code class="hljs"><span class="hljs-comment">#Census Track with Error</span>
tracts_with_error &lt;-
  st_join(tracts19 ,train.Data.2)%&gt;%
  select(price,GEOID.x,SalePrice.APE,SalePrice.AbsError)

tracts_with_error &lt;-
  tracts_with_error %&gt;%
  group_by(GEOID.x)%&gt;%
  summarize(<span class="hljs-string">"Mean.absE"</span> = mean(SalePrice.AbsError, na.rm = <span class="hljs-literal">T</span>),
            <span class="hljs-string">"MAPE"</span> = mean(SalePrice.APE, na.rm = <span class="hljs-literal">T</span>),
            <span class="hljs-string">"Mean.price"</span> = mean(price), na.rm = <span class="hljs-literal">T</span>)%&gt;%
  mutate(MAPE.Pct = MAPE*<span class="hljs-number">100</span>)

ggplot()+
  geom_sf(data = BoulderCounty_Bundary, fill = <span class="hljs-string">"grey70"</span>) +
  geom_sf(data = tracts_with_error, aes(fill = MAPE.Pct),colour = <span class="hljs-string">"black"</span>)+
  scale_fill_gradient(low = <span class="hljs-string">"white"</span>, high = <span class="hljs-string">"brown"</span>,
    name = <span class="hljs-string">"Absolute Percentage Error"</span> ) +
  mapTheme()</code></pre></div>
<p><img src="./Midterm Project_files/Etc-2.png" width="672"></p>
<div class="row"><div class="col-md-12"><button type="button" class="btn btn-default btn-xs btn-secondary btn-sm code-folding-btn pull-right float-right" data-toggle="collapse" data-target="#rcode-643E0F3622" aria-expanded="false" aria-controls="rcode-643E0F3622"><span>Code</span></button></div></div><div class="collapse r-code-collapse" id="rcode-643E0F3622"><pre class="r"><code class="hljs"><span class="hljs-comment">#scatterplot plot of MAPE by neighborhood as a function of mean price by neighborhood.</span>

ggplot(data = tracts_with_error, aes(Mean.price, MAPE.Pct)) +
  geom_point(size = <span class="hljs-number">1.5</span>,colour = <span class="hljs-string">"orange"</span>) + 
  labs(x = <span class="hljs-string">"Mean Housing Prices"</span>,y = <span class="hljs-string">"Mean Absolute Percentage Errors"</span>, 
       title = <span class="hljs-string">"Absolute Percentage Error as sa function of Mean Housing Prices by Municipalities"</span>,
       subtitle = <span class="hljs-string">"Boulder County, CO"</span>)+
  theme(plot.title = element_text(size = <span class="hljs-number">20</span>),
        plot.subtitle = element_text(size = <span class="hljs-number">15</span>),
        axis.title.x = element_text(size = <span class="hljs-number">15</span>),
        axis.title.y = element_text(size = <span class="hljs-number">15</span>),
        axis.line = element_line(colour = <span class="hljs-string">"grey50"</span>, size = <span class="hljs-number">1</span>),
        panel.grid.major = element_line(linetype = <span class="hljs-string">"dotted"</span>,size = <span class="hljs-number">1</span>))</code></pre></div>
<p><img src="./Midterm Project_files/Etc-3.png" width="672"></p>
<p>#Incorporating neighborhood effects – Median Income</p>
<p>In this section, we evaluate weather spacial processes actually counts for the housing prices in boulder. Majority of the population in Boulder County is White, so race is not a pointless context to reflect neighborhood effect. Median Income level is chosen, and we assign tracts that have income greater than the mean income of the county ($40,450) as high income areas.</p>
<p>The result shows neighborhood effect (median income) in fact counts very little in determining housing price across different census tracts in Boulder County.</p>
<div class="row"><div class="col-md-12"><button type="button" class="btn btn-default btn-xs btn-secondary btn-sm code-folding-btn pull-right float-right" data-toggle="collapse" data-target="#rcode-643E0F3623" aria-expanded="false" aria-controls="rcode-643E0F3623"><span>Code</span></button></div></div><div class="collapse r-code-collapse" id="rcode-643E0F3623"><pre class="r"><code class="hljs"><span class="hljs-comment">#Build regression, including census tracts as a variable (GEOID), on the training data</span>
train.Data.1 &lt;-
  left_join(train.Data.1, studentData)%&gt;%
  st_as_sf()
            
reg.nhood &lt;- lm(price ~ ., data = as.data.frame(train.Data.1) %&gt;% 
                                select(GEOID, price, 
                 section_num,
                 qualityCode,
                 TotalFinishedSF,
                 Ac,
                 Heating,
                 Age,
                 med_inc,
                 landmark_dist,
                 nbrRoomsNobath,
                 pvty_pop,
                 privat_dist,
                 head_nn5,
                 park_nn1,
                 Loui_dummy,
                 Nede_dummy,
                 Boul_dummy,
                 Erie_dummy,
                 Long_dummy,
                 Lyon_dummy,
                 pgcount500m,
                 TotalBath,
                 flood_dist,
                 privat_dist))


boulder.test.nhood &lt;-
  train.Data.2 %&gt;%
  mutate(Regression = <span class="hljs-string">"Neighborhood Effects"</span>,
         SalePrice.Predict = predict(reg.nhood, train.Data.2),
         SalePrice.Error = SalePrice.Predict - price,
         SalePrice.AbsError = abs(SalePrice.Predict- price),
         SalePrice.APE = (abs(SalePrice.Predict- price)) / price)

bothRegressions &lt;- 
  rbind(
   select(train.Data.2, starts_with(<span class="hljs-string">"SalePrice"</span>), price, Regression, GEOID) %&gt;%
      mutate(lagPriceError = lag.listw(spatialWeights.test, SalePrice.Error)),
   select(boulder.test.nhood, starts_with(<span class="hljs-string">"SalePrice"</span>), price,Regression, GEOID) %&gt;%
      mutate(lagPriceError = lag.listw(spatialWeights.test, SalePrice.Error)))    


st_drop_geometry(bothRegressions) %&gt;%
  gather(Variable, Value, -Regression, -GEOID) %&gt;%
  filter(Variable == <span class="hljs-string">"SalePrice.AbsError"</span> | Variable == <span class="hljs-string">"SalePrice.APE"</span>) %&gt;%
  group_by(Regression, Variable) %&gt;%
    summarize(meanValue = mean(Value, na.rm = <span class="hljs-literal">T</span>)) %&gt;%
    spread(Variable, meanValue) %&gt;%
    kable()%&gt;% kable_styling()</code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
Regression
</th>
<th style="text-align:right;">
SalePrice.AbsError
</th>
<th style="text-align:right;">
SalePrice.APE
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Baseline Regression
</td>
<td style="text-align:right;">
187397.1
</td>
<td style="text-align:right;">
0.3247435
</td>
</tr>
<tr>
<td style="text-align:left;">
Neighborhood Effects
</td>
<td style="text-align:right;">
162503.5
</td>
<td style="text-align:right;">
0.2717941
</td>
</tr>
</tbody>
</table>
<div class="row"><div class="col-md-12"><button type="button" class="btn btn-default btn-xs btn-secondary btn-sm code-folding-btn pull-right float-right" data-toggle="collapse" data-target="#rcode-643E0F3624" aria-expanded="false" aria-controls="rcode-643E0F3624"><span>Code</span></button></div></div><div class="collapse r-code-collapse" id="rcode-643E0F3624"><pre class="r"><code class="hljs">st_drop_geometry(bothRegressions) %&gt;%
 select(SalePrice.Predict, price, Regression) %&gt;%
    ggplot(aes(price, SalePrice.Predict)) +
  geom_point() +
  stat_smooth(aes(price, price), 
             method = <span class="hljs-string">"lm"</span>, se = <span class="hljs-literal">FALSE</span>, size = <span class="hljs-number">1</span>, colour=<span class="hljs-string">"#FA7800"</span>) + 
  stat_smooth(aes(SalePrice.Predict, price), 
              method = <span class="hljs-string">"lm"</span>, se = <span class="hljs-literal">FALSE</span>, size = <span class="hljs-number">1</span>, colour=<span class="hljs-string">"#25CB10"</span>) +
  facet_wrap(~Regression) +
  labs(title=<span class="hljs-string">"Predicted sale price as a function of observed price"</span>,
       subtitle=<span class="hljs-string">"Orange line represents a perfect prediction; Green line represents prediction"</span>,
       y = <span class="hljs-string">"Predicted Sale Price"</span>, x = <span class="hljs-string">"Neighborhood Effects"</span>) +
  plotTheme()</code></pre></div>
<p><img src="./Midterm Project_files/Baseline regression and neighborhood effects-1.png" width="672"> Absolute error on neighborhood effect is actually larger than the baseline regression, indicating census tracts might not be an important determination for housing prices.</p>
<div class="row"><div class="col-md-12"><button type="button" class="btn btn-default btn-xs btn-secondary btn-sm code-folding-btn pull-right float-right" data-toggle="collapse" data-target="#rcode-643E0F3625" aria-expanded="false" aria-controls="rcode-643E0F3625"><span>Code</span></button></div></div><div class="collapse r-code-collapse" id="rcode-643E0F3625"><pre class="r"><code class="hljs"><span class="hljs-comment">#Add race and income context</span>
tracts19.2 &lt;-
  tracts19%&gt;%
  select(med_inc,tot_pop,white_pop,GEOID,geometry) %&gt;%
  mutate(percentWhite = white_pop / tot_pop,
        raceContext = ifelse(percentWhite &gt; <span class="hljs-number">.5</span>, <span class="hljs-string">"Majority White"</span>, <span class="hljs-string">"Majority Non-White"</span>),
         incomeContext = ifelse(med_inc &gt; <span class="hljs-number">40450</span>, <span class="hljs-string">"High Income"</span>, <span class="hljs-string">"Low Income"</span>))

<span class="hljs-comment">#Plot income and race context</span>
grid.arrange(ncol = <span class="hljs-number">2</span>,
  ggplot() + geom_sf(data = na.omit(tracts19.2), aes(fill = raceContext)) +
    scale_fill_manual(values = c(<span class="hljs-string">"#25CB10"</span>, <span class="hljs-string">"#FA7800"</span>), name=<span class="hljs-string">"Race Context"</span>) +
    labs(title = <span class="hljs-string">"Race Context"</span>) +
    mapTheme() + theme(legend.position=<span class="hljs-string">"bottom"</span>), 
  ggplot() + geom_sf(data = na.omit(tracts19.2), aes(fill = incomeContext)) +
    scale_fill_manual(values = c(<span class="hljs-string">"#25CB10"</span>, <span class="hljs-string">"#FA7800"</span>), name=<span class="hljs-string">"Income Context"</span>) +
    labs(title = <span class="hljs-string">"Income Context"</span>) +
    mapTheme() + theme(legend.position=<span class="hljs-string">"bottom"</span>))</code></pre></div>
<p><img src="./Midterm Project_files/Adding income context-1.png" width="672"> We see that majority of Boulder’s population is White (&gt;50% in a census tract), and is not very much related to income in the county.</p>
<div class="row"><div class="col-md-12"><button type="button" class="btn btn-default btn-xs btn-secondary btn-sm code-folding-btn pull-right float-right" data-toggle="collapse" data-target="#rcode-643E0F3626" aria-expanded="false" aria-controls="rcode-643E0F3626"><span>Code</span></button></div></div><div class="collapse r-code-collapse" id="rcode-643E0F3626"><pre class="r"><code class="hljs">st_join(bothRegressions, tracts19.2) %&gt;% 
  group_by(Regression, incomeContext) %&gt;%
  summarize(mean.MAPE = scales::percent(mean(SalePrice.APE, na.rm = <span class="hljs-literal">T</span>)))  %&gt;%
   st_drop_geometry() %&gt;%
  spread(incomeContext, mean.MAPE) %&gt;%
  kable(caption = <span class="hljs-string">"Table 4. Test set MAPE by neighborhood income context"</span>)%&gt;%kable_styling()</code></pre></div>
<table class="table" style="margin-left: auto; margin-right: auto;">
<caption>
Table 4. Test set MAPE by neighborhood income context
</caption>
<thead>
<tr>
<th style="text-align:left;">
Regression
</th>
<th style="text-align:left;">
High Income
</th>
<th style="text-align:left;">
Low Income
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Baseline Regression
</td>
<td style="text-align:left;">
31%
</td>
<td style="text-align:left;">
40%
</td>
</tr>
<tr>
<td style="text-align:left;">
Neighborhood Effects
</td>
<td style="text-align:left;">
23%
</td>
<td style="text-align:left;">
43%
</td>
</tr>
</tbody>
</table>
<p>Table 4 shows that regression considering census median income level is less reliable than the baseline regression: this geographic feature creates more errors when added to the model. The results shows census median income level is not a stong determining factor of housing prices in Boulder county, and therefore, cannot be generalized.</p>
<p>#Appendix: Variables used as predictors</p>
<pre><code class="hljs">## 
## &lt;table style="text-align:center"&gt;&lt;caption&gt;&lt;strong&gt;Statistic Summary: Internal Characteristic Variables&lt;/strong&gt;&lt;/caption&gt;
## &lt;tr&gt;&lt;td colspan="8" style="border-bottom: 1px solid black"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style="text-align:left"&gt;Statistic&lt;/td&gt;&lt;td&gt;N&lt;/td&gt;&lt;td&gt;Mean&lt;/td&gt;&lt;td&gt;St. Dev.&lt;/td&gt;&lt;td&gt;Min&lt;/td&gt;&lt;td&gt;Pctl(25)&lt;/td&gt;&lt;td&gt;Pctl(75)&lt;/td&gt;&lt;td&gt;Max&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="border-bottom: 1px solid black"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style="text-align:left"&gt;Section.Num&lt;/td&gt;&lt;td&gt;11,364&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;0&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;9&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Quality.Code&lt;/td&gt;&lt;td&gt;11,364&lt;/td&gt;&lt;td&gt;37&lt;/td&gt;&lt;td&gt;8&lt;/td&gt;&lt;td&gt;10&lt;/td&gt;&lt;td&gt;30&lt;/td&gt;&lt;td&gt;41&lt;/td&gt;&lt;td&gt;80&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;TotalFinishedSF&lt;/td&gt;&lt;td&gt;11,364&lt;/td&gt;&lt;td&gt;1,955&lt;/td&gt;&lt;td&gt;893&lt;/td&gt;&lt;td&gt;0&lt;/td&gt;&lt;td&gt;1,276&lt;/td&gt;&lt;td&gt;2,443.2&lt;/td&gt;&lt;td&gt;10,188&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Age&lt;/td&gt;&lt;td&gt;11,364&lt;/td&gt;&lt;td&gt;34&lt;/td&gt;&lt;td&gt;27&lt;/td&gt;&lt;td&gt;0&lt;/td&gt;&lt;td&gt;15&lt;/td&gt;&lt;td&gt;49&lt;/td&gt;&lt;td&gt;161&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Ac&lt;/td&gt;&lt;td&gt;7,488&lt;/td&gt;&lt;td&gt;210&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;200&lt;/td&gt;&lt;td&gt;210&lt;/td&gt;&lt;td&gt;210&lt;/td&gt;&lt;td&gt;220&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Heating&lt;/td&gt;&lt;td&gt;11,260&lt;/td&gt;&lt;td&gt;814&lt;/td&gt;&lt;td&gt;15&lt;/td&gt;&lt;td&gt;800&lt;/td&gt;&lt;td&gt;810&lt;/td&gt;&lt;td&gt;810&lt;/td&gt;&lt;td&gt;1,000&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Total.Bath&lt;/td&gt;&lt;td&gt;11,364&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;0&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;12&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Rooms.No.bath&lt;/td&gt;&lt;td&gt;11,364&lt;/td&gt;&lt;td&gt;7&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;0&lt;/td&gt;&lt;td&gt;6&lt;/td&gt;&lt;td&gt;9&lt;/td&gt;&lt;td&gt;28&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="border-bottom: 1px solid black"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;Section.Num: Building section number by uses&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;Quality.Code: Quality as determined by our appraisal staff&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;TotalFinishedSF: Total number of finished square feet&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;Age: Age of the structure&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;Ac: Air Conditioner Type (Lower N value due to absence of AC units)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;Heating: Heating System Type (Lower N value due to absence of Heating units)&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;Total.Bath: Number of Bathrooms&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;Rooms.No.Bath: Number of Rooms that are not bathrooms&lt;/td&gt;&lt;/tr&gt;
## &lt;/table&gt;</code></pre>
<pre><code class="hljs">## 
## &lt;table style="text-align:center"&gt;&lt;caption&gt;&lt;strong&gt;Statistic Summary: Amenities&lt;/strong&gt;&lt;/caption&gt;
## &lt;tr&gt;&lt;td colspan="8" style="border-bottom: 1px solid black"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style="text-align:left"&gt;Statistic&lt;/td&gt;&lt;td&gt;N&lt;/td&gt;&lt;td&gt;Mean&lt;/td&gt;&lt;td&gt;St. Dev.&lt;/td&gt;&lt;td&gt;Min&lt;/td&gt;&lt;td&gt;Pctl(25)&lt;/td&gt;&lt;td&gt;Pctl(75)&lt;/td&gt;&lt;td&gt;Max&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="border-bottom: 1px solid black"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style="text-align:left"&gt;Private.Dist&lt;/td&gt;&lt;td&gt;11,364&lt;/td&gt;&lt;td&gt;1,990&lt;/td&gt;&lt;td&gt;3,056&lt;/td&gt;&lt;td&gt;20&lt;/td&gt;&lt;td&gt;609&lt;/td&gt;&lt;td&gt;2,150&lt;/td&gt;&lt;td&gt;31,688&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Trailhead.Dist&lt;/td&gt;&lt;td&gt;11,364&lt;/td&gt;&lt;td&gt;6,101&lt;/td&gt;&lt;td&gt;2,166&lt;/td&gt;&lt;td&gt;1,157&lt;/td&gt;&lt;td&gt;4,933&lt;/td&gt;&lt;td&gt;7,190&lt;/td&gt;&lt;td&gt;22,566&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Park.Dist&lt;/td&gt;&lt;td&gt;11,364&lt;/td&gt;&lt;td&gt;3,243&lt;/td&gt;&lt;td&gt;2,031&lt;/td&gt;&lt;td&gt;94&lt;/td&gt;&lt;td&gt;1,731&lt;/td&gt;&lt;td&gt;4,620&lt;/td&gt;&lt;td&gt;17,427&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;PGCount.500m&lt;/td&gt;&lt;td&gt;11,364&lt;/td&gt;&lt;td&gt;0&lt;/td&gt;&lt;td&gt;0&lt;/td&gt;&lt;td&gt;0&lt;/td&gt;&lt;td&gt;0&lt;/td&gt;&lt;td&gt;0&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="border-bottom: 1px solid black"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;Unit: Meters Source: Boulder County Open Data Portal&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;LandMark.Dist: Distance to the nearest landmark&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;Private.Dist: Distance to the nearest private school&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;Trailhead.Dist: Distance to the nearest trail head&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;Park.Dist: Distance to the nearest park&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;PGCount.500: Playground count in 500m radius of a sold house&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;Flood.Dist: Distance to the nearest Floodplain&lt;/td&gt;&lt;/tr&gt;
## &lt;/table&gt;
## 
## &lt;table style="text-align:center"&gt;&lt;caption&gt;&lt;strong&gt;Statistic Summary: Amenities&lt;/strong&gt;&lt;/caption&gt;
## &lt;tr&gt;&lt;td colspan="1" style="border-bottom: 1px solid black"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;out=amen.html&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="1" style="border-bottom: 1px solid black"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style="text-align:left"&gt;Unit: Meters Source: Boulder County Open Data Portal&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;LandMark.Dist: Distance to the nearest landmark&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Private.Dist: Distance to the nearest private school&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Trailhead.Dist: Distance to the nearest trail head&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Park.Dist: Distance to the nearest park&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;PGCount.500: Playground count in 500m radius of a sold house&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Flood.Dist: Distance to the nearest Floodplain&lt;/td&gt;&lt;/tr&gt;
## &lt;/table&gt;</code></pre>
<pre><code class="hljs">## 
## &lt;table style="text-align:center"&gt;&lt;caption&gt;&lt;strong&gt;Statistic Summary: Spacial Structure&lt;/strong&gt;&lt;/caption&gt;
## &lt;tr&gt;&lt;td colspan="8" style="border-bottom: 1px solid black"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style="text-align:left"&gt;Statistic&lt;/td&gt;&lt;td&gt;N&lt;/td&gt;&lt;td&gt;Mean&lt;/td&gt;&lt;td&gt;St. Dev.&lt;/td&gt;&lt;td&gt;Min&lt;/td&gt;&lt;td&gt;Pctl(25)&lt;/td&gt;&lt;td&gt;Pctl(75)&lt;/td&gt;&lt;td&gt;Max&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="border-bottom: 1px solid black"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td style="text-align:left"&gt;Med.Income&lt;/td&gt;&lt;td&gt;11,364&lt;/td&gt;&lt;td&gt;44,615&lt;/td&gt;&lt;td&gt;10,070&lt;/td&gt;&lt;td&gt;4,513&lt;/td&gt;&lt;td&gt;38,949&lt;/td&gt;&lt;td&gt;52,241&lt;/td&gt;&lt;td&gt;63,205&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;White.Pop&lt;/td&gt;&lt;td&gt;11,364&lt;/td&gt;&lt;td&gt;5,511&lt;/td&gt;&lt;td&gt;2,713&lt;/td&gt;&lt;td&gt;832&lt;/td&gt;&lt;td&gt;3,777&lt;/td&gt;&lt;td&gt;6,471&lt;/td&gt;&lt;td&gt;11,991&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Pop.Den&lt;/td&gt;&lt;td&gt;11,364&lt;/td&gt;&lt;td&gt;1,049&lt;/td&gt;&lt;td&gt;975&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;317&lt;/td&gt;&lt;td&gt;1,636&lt;/td&gt;&lt;td&gt;8,239&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td style="text-align:left"&gt;Pvty.Pop&lt;/td&gt;&lt;td&gt;11,364&lt;/td&gt;&lt;td&gt;483&lt;/td&gt;&lt;td&gt;393&lt;/td&gt;&lt;td&gt;40&lt;/td&gt;&lt;td&gt;227&lt;/td&gt;&lt;td&gt;724&lt;/td&gt;&lt;td&gt;3,202&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="border-bottom: 1px solid black"&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;Source: One-year American Community Survey&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;Data collected by census tracts&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;Med.Income: Medium Family Income&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;White.Pop: Population identified as 'white'&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;Pop.Den: Population density by census tract&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;Pvty.Pop: Population living in poverty&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;Some variables are catagorical. In these variables below&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;'1' indicates the sold house exists within the municipality,&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;0 means non-exsiting:&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;Loui_dummy, Ward_dummy, Jame_dummy, Nede_dummy,Boul_dummy&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;Erie_dummy,Lafa_dummy,Long_dummy,&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;representing Louisvelle, Ward, Jamestown, Nederland, Boulder, Erie,&lt;/td&gt;&lt;/tr&gt;
## &lt;tr&gt;&lt;td colspan="8" style="text-align:left"&gt;Lafayette, and Longmont, respectively&lt;/td&gt;&lt;/tr&gt;
## &lt;/table&gt;</code></pre>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("section-TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = true;

    // tocify
    var toc = $("#section-TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "mathjax-local/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>


</div>
  </div>


<iframe id="nr-ext-rsicon" style="position: absolute; display: none; width: 50px; height: 50px; z-index: 2147483647; border-style: none; background: transparent;" src="./Midterm Project_files/saved_resource.html"></iframe></body></html>